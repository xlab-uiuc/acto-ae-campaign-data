{"level":"info","ts":1679899508.1198883,"logger":"controller-runtime.metrics","msg":"metrics server is starting to listen","addr":":8080"}
{"level":"info","ts":1679899508.1205018,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.12056,"logger":"controller-runtime.builder","msg":"Registering a mutating webhook","GVK":"crdb.cockroachlabs.com/v1alpha1, Kind=CrdbCluster","path":"/mutate-crdb-cockroachlabs-com-v1alpha1-crdbcluster"}
{"level":"info","ts":1679899508.1206717,"logger":"controller-runtime.webhook","msg":"registering webhook","path":"/mutate-crdb-cockroachlabs-com-v1alpha1-crdbcluster"}
{"level":"info","ts":1679899508.1207068,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1207237,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.120733,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.120794,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1208258,"logger":"controller-runtime.builder","msg":"Registering a validating webhook","GVK":"crdb.cockroachlabs.com/v1alpha1, Kind=CrdbCluster","path":"/validate-crdb-cockroachlabs-com-v1alpha1-crdbcluster"}
{"level":"info","ts":1679899508.120891,"logger":"controller-runtime.webhook","msg":"registering webhook","path":"/validate-crdb-cockroachlabs-com-v1alpha1-crdbcluster"}
{"level":"info","ts":1679899508.120903,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.120917,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.120923,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1209786,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.127257,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1273198,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1273384,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1273506,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1273596,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.127368,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.127383,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.12739,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1273992,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1274061,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1274128,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.12742,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1274266,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.127433,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.1274502,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.12756,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.127569,"logger":"controller-runtime.injectors-warning","msg":"Injectors are deprecated, and will be removed in v0.10.x"}
{"level":"info","ts":1679899508.134871,"logger":"webhook-setup","msg":"Generating webhook certificate"}
{"level":"info","ts":1679899510.2633812,"logger":"webhook-setup","msg":"Patching CABundle for mutating webhook","config":"cockroach-operator-mutating-webhook-configuration","webhook":"mcrdbcluster.kb.io"}
{"level":"info","ts":1679899510.2756524,"logger":"webhook-setup","msg":"Patching CABundle for validating webhook","config":"cockroach-operator-mutating-webhook-configuration","webhook":"mcrdbcluster.kb.io"}
{"level":"info","ts":1679899510.2873445,"logger":"setup","msg":"starting manager"}
{"level":"info","ts":1679899510.28829,"logger":"controller-runtime.manager","msg":"starting metrics server","path":"/metrics"}
{"level":"info","ts":1679899510.2884126,"logger":"controller-runtime.webhook.webhooks","msg":"starting webhook server"}
{"level":"info","ts":1679899510.288612,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting EventSource","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","source":"kind source: /, Kind="}
{"level":"info","ts":1679899510.2889566,"logger":"controller-runtime.certwatcher","msg":"Updated current TLS certificate"}
{"level":"info","ts":1679899510.289117,"logger":"controller-runtime.webhook","msg":"serving webhook server","host":"","port":9443}
{"level":"info","ts":1679899510.289245,"logger":"controller-runtime.certwatcher","msg":"Starting certificate watcher"}
{"level":"info","ts":1679899510.3896906,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting EventSource","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","source":"kind source: /, Kind="}
{"level":"info","ts":1679899510.491054,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting EventSource","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","source":"kind source: /, Kind="}
{"level":"info","ts":1679899510.5918765,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting EventSource","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","source":"kind source: /, Kind="}
W0327 06:45:10.595378       1 warnings.go:70] policy/v1beta1 PodDisruptionBudget is deprecated in v1.21+, unavailable in v1.25+; use policy/v1 PodDisruptionBudget
W0327 06:45:10.596954       1 warnings.go:70] policy/v1beta1 PodDisruptionBudget is deprecated in v1.21+, unavailable in v1.25+; use policy/v1 PodDisruptionBudget
{"level":"info","ts":1679899510.693255,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting EventSource","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","source":"kind source: /, Kind="}
{"level":"info","ts":1679899510.7945874,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting EventSource","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","source":"kind source: /, Kind="}
{"level":"info","ts":1679899510.8952844,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting Controller","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster"}
{"level":"info","ts":1679899510.8953831,"logger":"controller-runtime.manager.controller.crdbcluster","msg":"Starting workers","reconciler group":"crdb.cockroachlabs.com","reconciler kind":"CrdbCluster","worker count":1}
{"level":"info","ts":1679899510.8955672,"logger":"controller.CrdbCluster","msg":"reconciling CockroachDB cluster","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"info","ts":1679899510.8956416,"logger":"webhooks","msg":"default","name":"test-cluster"}
{"level":"info","ts":1679899510.9014225,"logger":"controller.CrdbCluster","msg":"Running action with name: VersionCheckerAction","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"warn","ts":1679899510.9014654,"logger":"controller.CrdbCluster","msg":"starting to check the logging config provided","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"warn","ts":1679899510.9016502,"logger":"controller.CrdbCluster","msg":"Log configuration for the cockroach cluster: \"{sinks: {stderr: {channels: [OPS, HEALTH], redact: true}}}\"","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"warn","ts":1679899511.0632274,"logger":"controller.CrdbCluster","msg":"Validated the logging config","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"warn","ts":1679899511.06329,"logger":"controller.CrdbCluster","msg":"starting to check the crdb version of the container provided","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"warn","ts":1679899511.0633793,"logger":"controller.CrdbCluster","msg":"User set image.name, using that field instead of cockroachDBVersion","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob"}
{"level":"error","ts":1679899511.098236,"logger":"controller.CrdbCluster","msg":"failed to reconcile job only err","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob","error":"Job.batch \"test-cluster-vcheck-27998325\" is invalid: spec.template.spec.containers[0].imagePullPolicy: Unsupported value: \"ACTOKEY\": supported values: \"Always\", \"IfNotPresent\", \"Never\"","stacktrace":"github.com/go-logr/zapr.(*zapLogger).Error\n\texternal/com_github_go_logr_zapr/zapr.go:132\ngithub.com/cockroachdb/cockroach-operator/pkg/actor.(*versionChecker).Act\n\tpkg/actor/validate_version.go:134\ngithub.com/cockroachdb/cockroach-operator/pkg/controller.(*ClusterReconciler).Reconcile\n\tpkg/controller/cluster_controller.go:154\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\texternal/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:297\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\texternal/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:252\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func1.2\n\texternal/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:215\nk8s.io/apimachinery/pkg/util/wait.JitterUntilWithContext.func1\n\texternal/io_k8s_apimachinery/pkg/util/wait/wait.go:185\nk8s.io/apimachinery/pkg/util/wait.BackoffUntil.func1\n\texternal/io_k8s_apimachinery/pkg/util/wait/wait.go:155\nk8s.io/apimachinery/pkg/util/wait.BackoffUntil\n\texternal/io_k8s_apimachinery/pkg/util/wait/wait.go:156\nk8s.io/apimachinery/pkg/util/wait.JitterUntil\n\texternal/io_k8s_apimachinery/pkg/util/wait/wait.go:133\nk8s.io/apimachinery/pkg/util/wait.JitterUntilWithContext\n\texternal/io_k8s_apimachinery/pkg/util/wait/wait.go:185\nk8s.io/apimachinery/pkg/util/wait.UntilWithContext\n\texternal/io_k8s_apimachinery/pkg/util/wait/wait.go:99"}
{"level":"warn","ts":1679899511.0983703,"logger":"controller.CrdbCluster","msg":"version checker","CrdbCluster":"cockroach-operator-system/test-cluster","ReconcileId":"HMFC24tKxHUsQXqjWfLgob","job":"test-cluster-vcheck-27998325"}
E0327 06:45:11.098534       1 runtime.go:78] Observed a panic: "invalid memory address or nil pointer dereference" (runtime error: invalid memory address or nil pointer dereference)
goroutine 413 [running]:
k8s.io/apimachinery/pkg/util/runtime.logPanic({0x167d220, 0x274b1b0})
	external/io_k8s_apimachinery/pkg/util/runtime/runtime.go:74 +0x85
k8s.io/apimachinery/pkg/util/runtime.HandleCrash({0x0, 0x0, 0xc0003a2280})
	external/io_k8s_apimachinery/pkg/util/runtime/runtime.go:48 +0x75
panic({0x167d220, 0x274b1b0})
	GOROOT/src/runtime/panic.go:1038 +0x215
github.com/cockroachdb/cockroach-operator/pkg/actor.IsJobPodRunning({0x1ab8d98, 0xc0003f3d40}, {0x1b07190, 0xc00041ec60}, 0xc0006e4480, {0x1ad3f80, 0xc0006a5710})
	pkg/actor/validate_version.go:381 +0xbe
github.com/cockroachdb/cockroach-operator/pkg/actor.WaitUntilJobPodIsRunning.func1()
	pkg/actor/validate_version.go:429 +0x35
github.com/cenkalti/backoff.RetryNotify(0xc00098a720, {0x1a9e718, 0xc000101800}, 0x0)
	external/com_github_cenkalti_backoff/retry.go:37 +0x1ac
github.com/cenkalti/backoff.Retry(...)
	external/com_github_cenkalti_backoff/retry.go:24
github.com/cockroachdb/cockroach-operator/pkg/actor.WaitUntilJobPodIsRunning({0x1ab8d98, 0xc0003f3d40}, {0x1b07190, 0xc00041ec60}, 0xc0006e4480, {0x1ad3f80, 0xc0006a5710})
	pkg/actor/validate_version.go:434 +0x105
github.com/cockroachdb/cockroach-operator/pkg/actor.(*versionChecker).Act(0xc000591a70, {0x1ab8d98, 0xc0003f3d40}, 0xc000314030, {0x1ad3f80, 0xc0006a5710})
	pkg/actor/validate_version.go:151 +0x13cd
github.com/cockroachdb/cockroach-operator/pkg/controller.(*ClusterReconciler).Reconcile(0xc00064e280, {0x1ab8d98, 0xc000795e00}, {{{0xc0005ce180, 0x19}, {0xc0001be6b4, 0xc}}})
	pkg/controller/cluster_controller.go:154 +0xa23
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler(0xc0006e61e0, {0x1ab8cf0, 0xc0003798c0}, {0x16dc0a0, 0xc0003a2280})
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:297 +0x303
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem(0xc0006e61e0, {0x1ab8cf0, 0xc0003798c0})
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:252 +0x205
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func1.2({0x1ab8cf0, 0xc0003798c0})
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:215 +0x46
k8s.io/apimachinery/pkg/util/wait.JitterUntilWithContext.func1()
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:185 +0x25
k8s.io/apimachinery/pkg/util/wait.BackoffUntil.func1(0x7f38addc6538)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:155 +0x67
k8s.io/apimachinery/pkg/util/wait.BackoffUntil(0x0, {0x1a899e0, 0xc000795da0}, 0x1, 0xc0001945a0)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:156 +0xb6
k8s.io/apimachinery/pkg/util/wait.JitterUntil(0x290b170388500a7f, 0x3b9aca00, 0x0, 0xb2, 0x9f5991d8ff9aa2a8)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:133 +0x89
k8s.io/apimachinery/pkg/util/wait.JitterUntilWithContext({0x1ab8cf0, 0xc0003798c0}, 0xc0006a5570, 0x346edacb33672de1, 0xa8cfb0bbd27162e4, 0x85)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:185 +0x99
k8s.io/apimachinery/pkg/util/wait.UntilWithContext({0x1ab8cf0, 0xc0003798c0}, 0xad120641974e711e, 0x184a3fac1006c440)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:99 +0x2b
created by sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func1
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:212 +0x356
panic: runtime error: invalid memory address or nil pointer dereference [recovered]
	panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x15183fe]

goroutine 413 [running]:
k8s.io/apimachinery/pkg/util/runtime.HandleCrash({0x0, 0x0, 0xc0003a2280})
	external/io_k8s_apimachinery/pkg/util/runtime/runtime.go:55 +0xd8
panic({0x167d220, 0x274b1b0})
	GOROOT/src/runtime/panic.go:1038 +0x215
github.com/cockroachdb/cockroach-operator/pkg/actor.IsJobPodRunning({0x1ab8d98, 0xc0003f3d40}, {0x1b07190, 0xc00041ec60}, 0xc0006e4480, {0x1ad3f80, 0xc0006a5710})
	pkg/actor/validate_version.go:381 +0xbe
github.com/cockroachdb/cockroach-operator/pkg/actor.WaitUntilJobPodIsRunning.func1()
	pkg/actor/validate_version.go:429 +0x35
github.com/cenkalti/backoff.RetryNotify(0xc00098a720, {0x1a9e718, 0xc000101800}, 0x0)
	external/com_github_cenkalti_backoff/retry.go:37 +0x1ac
github.com/cenkalti/backoff.Retry(...)
	external/com_github_cenkalti_backoff/retry.go:24
github.com/cockroachdb/cockroach-operator/pkg/actor.WaitUntilJobPodIsRunning({0x1ab8d98, 0xc0003f3d40}, {0x1b07190, 0xc00041ec60}, 0xc0006e4480, {0x1ad3f80, 0xc0006a5710})
	pkg/actor/validate_version.go:434 +0x105
github.com/cockroachdb/cockroach-operator/pkg/actor.(*versionChecker).Act(0xc000591a70, {0x1ab8d98, 0xc0003f3d40}, 0xc000314030, {0x1ad3f80, 0xc0006a5710})
	pkg/actor/validate_version.go:151 +0x13cd
github.com/cockroachdb/cockroach-operator/pkg/controller.(*ClusterReconciler).Reconcile(0xc00064e280, {0x1ab8d98, 0xc000795e00}, {{{0xc0005ce180, 0x19}, {0xc0001be6b4, 0xc}}})
	pkg/controller/cluster_controller.go:154 +0xa23
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler(0xc0006e61e0, {0x1ab8cf0, 0xc0003798c0}, {0x16dc0a0, 0xc0003a2280})
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:297 +0x303
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem(0xc0006e61e0, {0x1ab8cf0, 0xc0003798c0})
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:252 +0x205
sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func1.2({0x1ab8cf0, 0xc0003798c0})
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:215 +0x46
k8s.io/apimachinery/pkg/util/wait.JitterUntilWithContext.func1()
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:185 +0x25
k8s.io/apimachinery/pkg/util/wait.BackoffUntil.func1(0x7f38addc6538)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:155 +0x67
k8s.io/apimachinery/pkg/util/wait.BackoffUntil(0x0, {0x1a899e0, 0xc000795da0}, 0x1, 0xc0001945a0)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:156 +0xb6
k8s.io/apimachinery/pkg/util/wait.JitterUntil(0x290b170388500a7f, 0x3b9aca00, 0x0, 0xb2, 0x9f5991d8ff9aa2a8)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:133 +0x89
k8s.io/apimachinery/pkg/util/wait.JitterUntilWithContext({0x1ab8cf0, 0xc0003798c0}, 0xc0006a5570, 0x346edacb33672de1, 0xa8cfb0bbd27162e4, 0x85)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:185 +0x99
k8s.io/apimachinery/pkg/util/wait.UntilWithContext({0x1ab8cf0, 0xc0003798c0}, 0xad120641974e711e, 0x184a3fac1006c440)
	external/io_k8s_apimachinery/pkg/util/wait/wait.go:99 +0x2b
created by sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func1
	external/io_k8s_sigs_controller_runtime/pkg/internal/controller/controller.go:212 +0x356

