{"severity":"INFO","timestamp":"2023-03-31T08:32:36.491915712Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7d45b3d3-9132-4f8a-bb2b-ffd67d36ff40","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:36.492059131Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7d45b3d3-9132-4f8a-bb2b-ffd67d36ff40","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:36.528828633Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:36.529306162Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:37.291041958Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"labels\":{\"app.kubernetes.io/component\":null,\"networking.knative.dev/ingress-provider\":null}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:37.291349036Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"/knative-serving","type":"/v1, Kind=Namespace"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:40.29052285Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:40.29084564Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:40.89258592Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:40.894417251Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:40.994873621Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:41.104818683Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7d45b3d3-9132-4f8a-bb2b-ffd67d36ff40","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:41.104916298Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7d45b3d3-9132-4f8a-bb2b-ffd67d36ff40","knative.dev/key":"knative-serving/test-cluster","duration":"4.64029403s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:41.105039786Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4122\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:41.105609852Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d5d5f96e-ef55-41c2-a783-ccf1bbb443c3","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:32:41.292847694Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d5d5f96e-ef55-41c2-a783-ccf1bbb443c3","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:41.293023467Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d5d5f96e-ef55-41c2-a783-ccf1bbb443c3","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:42.191411356Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:42.191944934Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:46.791982719Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:46.79264486Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:47.392742566Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:47.394850263Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:47.493072128Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:47.594179853Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d5d5f96e-ef55-41c2-a783-ccf1bbb443c3","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:47.594269928Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d5d5f96e-ef55-41c2-a783-ccf1bbb443c3","knative.dev/key":"knative-serving/test-cluster","duration":"6.488734585s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:47.594396895Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:47.594402897Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"683ea0d2-478e-4261-8260-691320c91ff2","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:32:47.791657418Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"683ea0d2-478e-4261-8260-691320c91ff2","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:47.791867448Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"683ea0d2-478e-4261-8260-691320c91ff2","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:48.695276797Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:48.696260604Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:53.291506326Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:53.292240034Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:53.893385717Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:53.895783881Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:53.992756132Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:54.095477185Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"683ea0d2-478e-4261-8260-691320c91ff2","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:32:54.095556451Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"683ea0d2-478e-4261-8260-691320c91ff2","knative.dev/key":"knative-serving/test-cluster","duration":"6.501214421s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:54.095668775Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"111c8bcc-af2d-4fee-9352-ad7e04232eab","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:32:54.095700404Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:54.290162482Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"111c8bcc-af2d-4fee-9352-ad7e04232eab","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:54.290357611Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"111c8bcc-af2d-4fee-9352-ad7e04232eab","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:55.190546635Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:55.190806133Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:59.791548708Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:32:59.792188442Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:00.392943661Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:00.394321321Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:00.493982421Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:00.594115974Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"111c8bcc-af2d-4fee-9352-ad7e04232eab","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:00.594215049Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"111c8bcc-af2d-4fee-9352-ad7e04232eab","knative.dev/key":"knative-serving/test-cluster","duration":"6.498598412s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:00.594344468Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:00.594377277Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0faad3ec-5eac-447a-9e7b-3109ef99527d","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:00.791404364Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0faad3ec-5eac-447a-9e7b-3109ef99527d","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:00.791581582Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0faad3ec-5eac-447a-9e7b-3109ef99527d","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:01.690188005Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:01.690541748Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:06.290285745Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:06.290610202Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:06.893551044Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:06.895396643Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:06.993596103Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:07.094128695Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0faad3ec-5eac-447a-9e7b-3109ef99527d","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:07.094267834Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0faad3ec-5eac-447a-9e7b-3109ef99527d","knative.dev/key":"knative-serving/test-cluster","duration":"6.499964109s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:07.094419176Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:07.094458232Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d60e5097-9413-4e36-b844-2f632334be27","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:07.290185253Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d60e5097-9413-4e36-b844-2f632334be27","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:07.290338669Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d60e5097-9413-4e36-b844-2f632334be27","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:08.191967622Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:08.192563844Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:12.791429346Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:12.791834007Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:13.391825812Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:13.392888205Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:13.49661202Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:13.596378904Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d60e5097-9413-4e36-b844-2f632334be27","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:13.596468042Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d60e5097-9413-4e36-b844-2f632334be27","knative.dev/key":"knative-serving/test-cluster","duration":"6.502093369s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:13.596612187Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a82cefb6-5016-4199-b654-4eac944445e9","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:13.596669038Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:13.790448763Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a82cefb6-5016-4199-b654-4eac944445e9","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:13.790592949Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a82cefb6-5016-4199-b654-4eac944445e9","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:14.69265756Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:14.693179472Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:19.290368897Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:19.290643389Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:19.894301079Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:19.895957183Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:19.995999634Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:20.09568413Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a82cefb6-5016-4199-b654-4eac944445e9","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:20.095814688Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a82cefb6-5016-4199-b654-4eac944445e9","knative.dev/key":"knative-serving/test-cluster","duration":"6.499273453s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:20.095950086Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:20.096043045Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d32665cb-1b24-4b46-acd3-40ac78e48ad7","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:20.289853262Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d32665cb-1b24-4b46-acd3-40ac78e48ad7","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:20.290031483Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d32665cb-1b24-4b46-acd3-40ac78e48ad7","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:21.191828701Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:21.192406078Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:25.792641247Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:25.793357021Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:26.395356124Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:26.396459499Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:26.496050835Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:26.595573988Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d32665cb-1b24-4b46-acd3-40ac78e48ad7","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:26.59570044Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d32665cb-1b24-4b46-acd3-40ac78e48ad7","knative.dev/key":"knative-serving/test-cluster","duration":"6.499758957s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:26.595884528Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:26.595907598Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"391b1754-39fa-4c8f-ae51-aa3099649c68","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:26.791457546Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"391b1754-39fa-4c8f-ae51-aa3099649c68","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:26.791665531Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"391b1754-39fa-4c8f-ae51-aa3099649c68","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:27.692917681Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:27.693578993Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:32.290136508Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:32.290718502Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:32.893590441Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:32.895394069Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:32.993931582Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:33.094755374Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"391b1754-39fa-4c8f-ae51-aa3099649c68","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:33.094858774Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"391b1754-39fa-4c8f-ae51-aa3099649c68","knative.dev/key":"knative-serving/test-cluster","duration":"6.499044185s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:33.095010787Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b6b68056-be46-4a97-9c27-57a73a26b2f4","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:33.095073648Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:33.291668014Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b6b68056-be46-4a97-9c27-57a73a26b2f4","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:33.291869939Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b6b68056-be46-4a97-9c27-57a73a26b2f4","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:34.19005935Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:34.190322514Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:38.790993401Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:38.791375957Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:39.395010886Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:39.397660449Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:39.496467187Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:39.595073073Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b6b68056-be46-4a97-9c27-57a73a26b2f4","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:39.595220214Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b6b68056-be46-4a97-9c27-57a73a26b2f4","knative.dev/key":"knative-serving/test-cluster","duration":"6.500282153s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:39.59532573Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:39.595417944Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b4c3686b-c652-4bef-a744-273e2fadcc34","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:39.790563101Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b4c3686b-c652-4bef-a744-273e2fadcc34","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:39.790695197Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b4c3686b-c652-4bef-a744-273e2fadcc34","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:40.691686435Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:40.69213749Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:45.291722411Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:45.292216486Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:45.894747541Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:45.896763473Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:45.997244703Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:46.096389908Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b4c3686b-c652-4bef-a744-273e2fadcc34","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:46.096473652Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"b4c3686b-c652-4bef-a744-273e2fadcc34","knative.dev/key":"knative-serving/test-cluster","duration":"6.501144709s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:46.096610428Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd59f634-27ea-49b2-b2f1-c92765440885","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:46.096651938Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:46.290344284Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd59f634-27ea-49b2-b2f1-c92765440885","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:46.290567203Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd59f634-27ea-49b2-b2f1-c92765440885","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:47.19182139Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:47.192177602Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:51.790616567Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:51.79096652Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:52.390529166Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:52.391300556Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:52.492734785Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:52.591253895Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd59f634-27ea-49b2-b2f1-c92765440885","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:52.591359748Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd59f634-27ea-49b2-b2f1-c92765440885","knative.dev/key":"knative-serving/test-cluster","duration":"6.494814631s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:52.591486617Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e73147da-dc7d-4522-99de-8e63261a44af","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:33:52.594238064Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:52.791576452Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e73147da-dc7d-4522-99de-8e63261a44af","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:52.791728789Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e73147da-dc7d-4522-99de-8e63261a44af","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:53.69144753Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:53.691817295Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:58.290528471Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:58.290794702Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:58.892625589Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:58.894144131Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:58.994461721Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:59.095431314Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e73147da-dc7d-4522-99de-8e63261a44af","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:33:59.095509787Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e73147da-dc7d-4522-99de-8e63261a44af","knative.dev/key":"knative-serving/test-cluster","duration":"6.504084728s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:33:59.095698217Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:02.832063711Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"16e803da-1dec-48bc-894b-443e4c849e1e","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:34:02.861804484Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"16e803da-1dec-48bc-894b-443e4c849e1e","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:02.861934376Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"16e803da-1dec-48bc-894b-443e4c849e1e","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:02.891758228Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:02.892067209Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:06.562082402Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:06.56235851Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:07.163207021Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:07.164564304Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:34:07.26656921Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:34:07.362823286Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"16e803da-1dec-48bc-894b-443e4c849e1e","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:34:07.362992534Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"16e803da-1dec-48bc-894b-443e4c849e1e","knative.dev/key":"knative-serving/test-cluster","duration":"4.531048424s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:07.363129759Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:48.323761084Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d63b97fd-7f71-4256-bf93-7f58ca162c26","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":3,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:21:31Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:21:32Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:32:41Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:21:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:34:48.350225459Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d63b97fd-7f71-4256-bf93-7f58ca162c26","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:48.350383645Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d63b97fd-7f71-4256-bf93-7f58ca162c26","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:48.381643264Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:48.382249934Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:52.044920108Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:52.045262176Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:52.645774366Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-5zllk","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:52.646924566Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-5zllk","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:34:52.745804054Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-5zllk","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:34:52.848439784Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d63b97fd-7f71-4256-bf93-7f58ca162c26","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:34:52.848586506Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-5zllk","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d63b97fd-7f71-4256-bf93-7f58ca162c26","knative.dev/key":"knative-serving/test-cluster","duration":"4.524933297s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:34:52.848751399Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"c60ef80f-0175-4b48-92ae-0c4985ff78c8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"4135\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-5zllk"}

