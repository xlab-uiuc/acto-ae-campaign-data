{"severity":"INFO","timestamp":"2023-03-31T07:44:11.084267854Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"97cfbdac-3f09-4b8f-8864-03511985f821","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.084509582Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"97cfbdac-3f09-4b8f-8864-03511985f821","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.12023123Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.120586209Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.879357572Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"labels\":{\"app.kubernetes.io/component\":null,\"networking.knative.dev/ingress-provider\":null}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.879852515Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"/knative-serving","type":"/v1, Kind=Namespace"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:14.881183234Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:14.882196366Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.480942776Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.482989741Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:15.582255464Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:15.695220993Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"97cfbdac-3f09-4b8f-8864-03511985f821","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:15.695336933Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"97cfbdac-3f09-4b8f-8864-03511985f821","knative.dev/key":"knative-serving/test-cluster","duration":"4.645346843s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.695477142Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2443\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.695805326Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"5f68b741-69e7-47f1-9c07-383d28263a15","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.879489353Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"5f68b741-69e7-47f1-9c07-383d28263a15","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.879707334Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"5f68b741-69e7-47f1-9c07-383d28263a15","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:16.779184036Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:16.779771121Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:21.379776685Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:21.380659971Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:21.98006593Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:21.981282674Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:22.082610669Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:22.183326947Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"5f68b741-69e7-47f1-9c07-383d28263a15","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:22.183443202Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"5f68b741-69e7-47f1-9c07-383d28263a15","knative.dev/key":"knative-serving/test-cluster","duration":"6.487721497s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:22.183571966Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:22.183716162Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"31e61538-1e0d-4e9d-b8f6-3d10509d0f28","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:22.379646127Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"31e61538-1e0d-4e9d-b8f6-3d10509d0f28","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:22.379865352Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"31e61538-1e0d-4e9d-b8f6-3d10509d0f28","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:23.278810308Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:23.279307972Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:27.879409191Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:27.880397439Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:28.481349314Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:28.483309835Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:28.585900587Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:28.68279714Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"31e61538-1e0d-4e9d-b8f6-3d10509d0f28","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:28.682906636Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"31e61538-1e0d-4e9d-b8f6-3d10509d0f28","knative.dev/key":"knative-serving/test-cluster","duration":"6.499318655s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:28.683073526Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"352b8ad9-7ba6-4040-b720-8937fb2d7786","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:28.683102283Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:28.879953365Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"352b8ad9-7ba6-4040-b720-8937fb2d7786","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:28.880162695Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"352b8ad9-7ba6-4040-b720-8937fb2d7786","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:29.778681871Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:29.779122622Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:34.378439456Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:34.378869097Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:34.981352654Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:34.982792828Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:35.085123765Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:35.181447415Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"352b8ad9-7ba6-4040-b720-8937fb2d7786","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:35.181566069Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"352b8ad9-7ba6-4040-b720-8937fb2d7786","knative.dev/key":"knative-serving/test-cluster","duration":"6.498570911s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:35.181892786Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:35.182012374Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c1685f3e-8d28-456b-b407-65ea1a235b06","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:35.379750593Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c1685f3e-8d28-456b-b407-65ea1a235b06","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:35.379955317Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c1685f3e-8d28-456b-b407-65ea1a235b06","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:36.280128992Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:36.280912472Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:40.87910442Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:40.879529312Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:41.480510772Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:41.482311595Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:41.583292318Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:41.684041292Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c1685f3e-8d28-456b-b407-65ea1a235b06","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:41.684151014Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c1685f3e-8d28-456b-b407-65ea1a235b06","knative.dev/key":"knative-serving/test-cluster","duration":"6.502242419s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:41.684329138Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:41.684354268Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"afbb00db-9edc-408e-935c-c5ad49abc6d4","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:41.881333337Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"afbb00db-9edc-408e-935c-c5ad49abc6d4","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:41.881516228Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"afbb00db-9edc-408e-935c-c5ad49abc6d4","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:42.778821491Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:42.779505236Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:47.380488507Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:47.381240456Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:47.98264898Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:47.984545757Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:48.082457281Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:48.183694625Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"afbb00db-9edc-408e-935c-c5ad49abc6d4","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:48.18382737Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"afbb00db-9edc-408e-935c-c5ad49abc6d4","knative.dev/key":"knative-serving/test-cluster","duration":"6.499565771s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:48.184013579Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c3e4b9e4-e195-4efa-9110-eab60910941f","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:48.184024299Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:48.37948061Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c3e4b9e4-e195-4efa-9110-eab60910941f","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:48.379697481Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c3e4b9e4-e195-4efa-9110-eab60910941f","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:49.27841019Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:49.278721248Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:53.879755139Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:53.880697725Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:54.48119472Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:54.48346258Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:54.581030286Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:54.681516266Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c3e4b9e4-e195-4efa-9110-eab60910941f","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:54.681629849Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c3e4b9e4-e195-4efa-9110-eab60910941f","knative.dev/key":"knative-serving/test-cluster","duration":"6.497699968s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:54.681902691Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:54.681897432Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"cf40226f-7d81-4d5d-95b3-39284613ddb2","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:54.880281808Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"cf40226f-7d81-4d5d-95b3-39284613ddb2","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:54.880571534Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"cf40226f-7d81-4d5d-95b3-39284613ddb2","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:55.779621658Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:55.779941364Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:00.378041561Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:00.378649713Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:00.981206741Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:00.983145449Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:01.084396634Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:01.182351281Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"cf40226f-7d81-4d5d-95b3-39284613ddb2","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:01.18244919Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"cf40226f-7d81-4d5d-95b3-39284613ddb2","knative.dev/key":"knative-serving/test-cluster","duration":"6.500632963s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.182615538Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c70f443f-b90c-40a9-aa4d-d2894ba9c4b9","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.182662288Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.379166665Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c70f443f-b90c-40a9-aa4d-d2894ba9c4b9","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.37934991Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c70f443f-b90c-40a9-aa4d-d2894ba9c4b9","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:02.278141461Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:02.27843354Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:06.879016782Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:06.879595856Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:07.483642743Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:07.485825336Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:07.581521083Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:07.683968294Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c70f443f-b90c-40a9-aa4d-d2894ba9c4b9","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:07.684076149Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c70f443f-b90c-40a9-aa4d-d2894ba9c4b9","knative.dev/key":"knative-serving/test-cluster","duration":"6.501538492s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:07.684220472Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:07.68422645Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a638dfdb-6d5a-4f2f-978d-9f1df7f890c3","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:45:07.880454656Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a638dfdb-6d5a-4f2f-978d-9f1df7f890c3","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:07.880588912Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a638dfdb-6d5a-4f2f-978d-9f1df7f890c3","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:08.779177629Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:08.779643862Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:13.379323034Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:13.380058712Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:13.982173397Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:13.9843558Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:14.082466723Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:14.182481392Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a638dfdb-6d5a-4f2f-978d-9f1df7f890c3","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:14.18259552Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a638dfdb-6d5a-4f2f-978d-9f1df7f890c3","knative.dev/key":"knative-serving/test-cluster","duration":"6.498446381s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:14.182784865Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:14.182788513Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"73faa1e2-087f-4968-be32-4d55766b39d4","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:45:14.38074204Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"73faa1e2-087f-4968-be32-4d55766b39d4","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:14.381150516Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"73faa1e2-087f-4968-be32-4d55766b39d4","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:15.277866288Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:15.278179339Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:19.879927941Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:19.880774859Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:20.481050551Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:20.48272222Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:20.585147764Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:20.682644675Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"73faa1e2-087f-4968-be32-4d55766b39d4","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:20.682755021Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"73faa1e2-087f-4968-be32-4d55766b39d4","knative.dev/key":"knative-serving/test-cluster","duration":"6.500048075s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:20.68291165Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:20.682923764Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"93983bb5-8517-4be5-a2b8-047bcc2ef95b","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:45:20.879427535Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"93983bb5-8517-4be5-a2b8-047bcc2ef95b","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:20.879606241Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"93983bb5-8517-4be5-a2b8-047bcc2ef95b","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:21.779598855Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:21.780143538Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:26.38050099Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:26.38124032Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:26.980029514Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:26.981871875Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:27.083278976Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:27.181498913Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"93983bb5-8517-4be5-a2b8-047bcc2ef95b","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:27.181597824Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"93983bb5-8517-4be5-a2b8-047bcc2ef95b","knative.dev/key":"knative-serving/test-cluster","duration":"6.498750248s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:27.181838242Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:27.181942238Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a53a9eb9-b834-49eb-87b8-21c0521779f5","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:45:27.37992498Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a53a9eb9-b834-49eb-87b8-21c0521779f5","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:27.380080506Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a53a9eb9-b834-49eb-87b8-21c0521779f5","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:28.279724753Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:28.280343327Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:32.877553425Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:32.877944715Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:33.480332328Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:33.481854711Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:33.581392451Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:33.679579295Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a53a9eb9-b834-49eb-87b8-21c0521779f5","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:33.679694383Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a53a9eb9-b834-49eb-87b8-21c0521779f5","knative.dev/key":"knative-serving/test-cluster","duration":"6.497845021s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:33.679792805Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:37.422169704Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4632a395-38c6-4bf5-9c70-b8ecbd509727","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:45:37.447382903Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4632a395-38c6-4bf5-9c70-b8ecbd509727","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:37.447478144Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4632a395-38c6-4bf5-9c70-b8ecbd509727","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:37.476066531Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:37.47636444Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:41.144955107Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:41.146016323Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:41.745012524Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:41.746176497Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:41.848321407Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:41.946128702Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4632a395-38c6-4bf5-9c70-b8ecbd509727","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:41.946215772Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4632a395-38c6-4bf5-9c70-b8ecbd509727","knative.dev/key":"knative-serving/test-cluster","duration":"4.524181398s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:41.94634597Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:22.907390324Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7758986d-d757-4ffa-a4f7-223c9d267ad8","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:40:13Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:40:14Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:44:15Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:39:58Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:46:22.930891623Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7758986d-d757-4ffa-a4f7-223c9d267ad8","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:22.931070444Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7758986d-d757-4ffa-a4f7-223c9d267ad8","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:22.963346706Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:22.963756053Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:26.629529361Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:26.630468159Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:27.229621885Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"configMapKeyRef\":{\"key\":\"ACTOKEY\",\"name\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:27.231160868Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:46:27.336599799Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:46:27.433254718Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7758986d-d757-4ffa-a4f7-223c9d267ad8","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:46:27.433375283Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-2vzf5","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7758986d-d757-4ffa-a4f7-223c9d267ad8","knative.dev/key":"knative-serving/test-cluster","duration":"4.526057112s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:46:27.433488102Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"d55a44db-d04a-4241-a657-c0e197ff4dc9\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2474\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.configMapKeyRef.name: Invalid value: \"ACTOKEY\": a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character (e.g. 'example.com', regex used for validation is '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'), spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-2vzf5"}

