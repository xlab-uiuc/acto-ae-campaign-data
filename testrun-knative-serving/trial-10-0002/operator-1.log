{"severity":"INFO","timestamp":"2023-03-31T07:42:45.555877403Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f5b5f015-4aa2-4790-9de6-0f9b87bc5add","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:45.556021829Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f5b5f015-4aa2-4790-9de6-0f9b87bc5add","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:45.587329214Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:45.587771042Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:46.348349124Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"labels\":{\"app.kubernetes.io/component\":null,\"networking.knative.dev/ingress-provider\":null}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:46.348772393Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"/knative-serving","type":"/v1, Kind=Namespace"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:49.348335699Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:49.348870962Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:49.949790459Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:49.951272094Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:42:50.052185227Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:42:50.161452953Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f5b5f015-4aa2-4790-9de6-0f9b87bc5add","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:42:50.161569293Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f5b5f015-4aa2-4790-9de6-0f9b87bc5add","knative.dev/key":"knative-serving/test-cluster","duration":"4.640979291s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:50.16170912Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2455\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:50.161970782Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"98b2b7fe-8f55-4cd9-9685-8dc6205f4244","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:42:50.347433121Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"98b2b7fe-8f55-4cd9-9685-8dc6205f4244","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:50.347628778Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"98b2b7fe-8f55-4cd9-9685-8dc6205f4244","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:51.248032991Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:51.248536319Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:55.848211164Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:55.848829398Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:56.450456388Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:56.452838605Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:42:56.551806102Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:42:56.650914904Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"98b2b7fe-8f55-4cd9-9685-8dc6205f4244","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:42:56.651022538Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"98b2b7fe-8f55-4cd9-9685-8dc6205f4244","knative.dev/key":"knative-serving/test-cluster","duration":"6.48917114s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:56.651206511Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2d19b6b7-9373-4a71-9b71-4b793ba0f595","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:42:56.6513447Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:56.849038097Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2d19b6b7-9373-4a71-9b71-4b793ba0f595","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:56.849262931Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2d19b6b7-9373-4a71-9b71-4b793ba0f595","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:57.748193137Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:42:57.748660609Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:02.347888087Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:02.348559765Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:02.95145241Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:02.95362142Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:03.051850868Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:03.153782083Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2d19b6b7-9373-4a71-9b71-4b793ba0f595","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:03.153859376Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2d19b6b7-9373-4a71-9b71-4b793ba0f595","knative.dev/key":"knative-serving/test-cluster","duration":"6.50273668s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:03.153990117Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2aeb30bc-2df1-4ca6-a917-66413fb49cd4","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:03.154054034Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:03.348097118Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2aeb30bc-2df1-4ca6-a917-66413fb49cd4","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:03.348313942Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2aeb30bc-2df1-4ca6-a917-66413fb49cd4","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:04.247997608Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:04.248489457Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:08.849956476Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:08.850892874Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:09.450405486Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:09.452655438Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:09.553636671Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:09.650298526Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2aeb30bc-2df1-4ca6-a917-66413fb49cd4","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:09.650472083Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2aeb30bc-2df1-4ca6-a917-66413fb49cd4","knative.dev/key":"knative-serving/test-cluster","duration":"6.496550922s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:09.650646601Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:09.650683665Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"fac007f6-708a-460e-950d-7da831baaa1b","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:09.848483717Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"fac007f6-708a-460e-950d-7da831baaa1b","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:09.848748076Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"fac007f6-708a-460e-950d-7da831baaa1b","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:10.749128516Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:10.749867196Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:15.348842086Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:15.349492039Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:15.950840192Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:15.952558987Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:16.050230183Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:16.152694177Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"fac007f6-708a-460e-950d-7da831baaa1b","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:16.152808173Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"fac007f6-708a-460e-950d-7da831baaa1b","knative.dev/key":"knative-serving/test-cluster","duration":"6.502226549s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:16.152959366Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:16.152999533Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8e0bc42d-2b53-48ea-831c-7b71b5727aa8","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:16.347988252Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8e0bc42d-2b53-48ea-831c-7b71b5727aa8","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:16.348232542Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8e0bc42d-2b53-48ea-831c-7b71b5727aa8","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:17.248771652Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:17.249515074Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:21.847983246Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:21.848416117Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:22.450150963Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:22.45209538Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:22.552168153Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:22.649834733Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8e0bc42d-2b53-48ea-831c-7b71b5727aa8","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:22.649936341Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8e0bc42d-2b53-48ea-831c-7b71b5727aa8","knative.dev/key":"knative-serving/test-cluster","duration":"6.497024165s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:22.650090543Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d9e99d11-0dab-4d64-8b70-5f781745434d","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:22.650102696Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:22.848851495Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d9e99d11-0dab-4d64-8b70-5f781745434d","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:22.84901678Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d9e99d11-0dab-4d64-8b70-5f781745434d","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:23.74959361Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:23.75036107Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:28.34896698Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:28.350085213Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:28.950227078Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:28.95140501Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:29.050189939Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:29.15351525Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d9e99d11-0dab-4d64-8b70-5f781745434d","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:29.153658393Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"d9e99d11-0dab-4d64-8b70-5f781745434d","knative.dev/key":"knative-serving/test-cluster","duration":"6.503631381s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:29.153885189Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:29.154056672Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"19877027-4fe2-4b5d-abef-fd2f045eb05f","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:29.348073286Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"19877027-4fe2-4b5d-abef-fd2f045eb05f","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:29.348255649Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"19877027-4fe2-4b5d-abef-fd2f045eb05f","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:30.251941514Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:30.252412244Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:34.849405993Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:34.850254015Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:35.450162679Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:35.45227226Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:35.552668528Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:35.651862222Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"19877027-4fe2-4b5d-abef-fd2f045eb05f","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:35.651955855Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"19877027-4fe2-4b5d-abef-fd2f045eb05f","knative.dev/key":"knative-serving/test-cluster","duration":"6.498024953s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:35.652087447Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"13b1a08d-a7a4-4837-8f95-e042537ba7be","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:35.652113646Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:35.847832916Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"13b1a08d-a7a4-4837-8f95-e042537ba7be","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:35.847983401Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"13b1a08d-a7a4-4837-8f95-e042537ba7be","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:36.748529401Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:36.749005082Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:41.346258376Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:41.346665538Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:41.95091653Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:41.952625261Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:42.05353102Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:42.153280419Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"13b1a08d-a7a4-4837-8f95-e042537ba7be","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:42.153359233Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"13b1a08d-a7a4-4837-8f95-e042537ba7be","knative.dev/key":"knative-serving/test-cluster","duration":"6.501331223s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:42.153464769Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"087a9698-7b3d-41a7-bf9f-2c9d7831b31c","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:42.153532262Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:42.348215143Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"087a9698-7b3d-41a7-bf9f-2c9d7831b31c","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:42.34840427Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"087a9698-7b3d-41a7-bf9f-2c9d7831b31c","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:43.248524906Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:43.249090047Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:47.848266345Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:47.848902378Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:48.451555629Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:48.453966183Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:48.552635125Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:48.654427571Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"087a9698-7b3d-41a7-bf9f-2c9d7831b31c","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:48.654579349Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"087a9698-7b3d-41a7-bf9f-2c9d7831b31c","knative.dev/key":"knative-serving/test-cluster","duration":"6.501164397s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:48.654734359Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:48.654805334Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8463c823-98fa-41c2-97fa-32ddb1042a0e","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:48.848708007Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8463c823-98fa-41c2-97fa-32ddb1042a0e","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:48.848977856Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8463c823-98fa-41c2-97fa-32ddb1042a0e","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:49.749635159Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:49.750341294Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:54.347382686Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:54.34770113Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:54.949944616Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:54.950900677Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:55.052796928Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:55.152997132Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8463c823-98fa-41c2-97fa-32ddb1042a0e","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:43:55.153121627Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8463c823-98fa-41c2-97fa-32ddb1042a0e","knative.dev/key":"knative-serving/test-cluster","duration":"6.498416163s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:55.153289803Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:55.153363015Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"89529dac-bf80-4348-86f8-ce29dbaf68b8","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:43:55.347375115Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"89529dac-bf80-4348-86f8-ce29dbaf68b8","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:55.347514812Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"89529dac-bf80-4348-86f8-ce29dbaf68b8","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:56.24744488Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:43:56.248015195Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:00.848885047Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:00.849887282Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:01.44982183Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:01.451438684Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:01.553102837Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:01.650164529Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"89529dac-bf80-4348-86f8-ce29dbaf68b8","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:01.650276139Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"89529dac-bf80-4348-86f8-ce29dbaf68b8","knative.dev/key":"knative-serving/test-cluster","duration":"6.497013813s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:01.650430113Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:01.650462363Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a5d1701b-8af7-498d-af66-b08f58b3d276","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:01.847291935Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a5d1701b-8af7-498d-af66-b08f58b3d276","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:01.847388106Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a5d1701b-8af7-498d-af66-b08f58b3d276","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:02.748535085Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:02.749265077Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:07.348550796Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:07.349367313Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:07.950974322Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:07.952584411Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:08.054595071Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:08.150778002Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a5d1701b-8af7-498d-af66-b08f58b3d276","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:08.150886372Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a5d1701b-8af7-498d-af66-b08f58b3d276","knative.dev/key":"knative-serving/test-cluster","duration":"6.500507379s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:08.150968652Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.891245139Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"776d6641-68e1-4b07-a1ca-fd3a1daea549","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.923637035Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"776d6641-68e1-4b07-a1ca-fd3a1daea549","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.92382037Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"776d6641-68e1-4b07-a1ca-fd3a1daea549","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.952183363Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:11.952696872Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.617651733Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:15.618484742Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:16.217625477Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:16.219047372Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:16.321447484Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:16.4270769Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"776d6641-68e1-4b07-a1ca-fd3a1daea549","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:44:16.427257052Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"776d6641-68e1-4b07-a1ca-fd3a1daea549","knative.dev/key":"knative-serving/test-cluster","duration":"4.53612601s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:16.427414766Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:57.388695685Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4ae6eafe-7a1f-45d0-9631-3adb351ca038","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:38:48Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:38:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:42:50Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:38:33Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:44:57.425364999Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4ae6eafe-7a1f-45d0-9631-3adb351ca038","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:57.425512115Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4ae6eafe-7a1f-45d0-9631-3adb351ca038","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:57.453407974Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:44:57.453916496Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.111458639Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.111783634Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.711608009Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"containerName\":\"ACTOKEY\",\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.712355698Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:01.818983628Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:01.91611545Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4ae6eafe-7a1f-45d0-9631-3adb351ca038","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:45:01.916232272Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nhsvg","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"4ae6eafe-7a1f-45d0-9631-3adb351ca038","knative.dev/key":"knative-serving/test-cluster","duration":"4.527645198s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:45:01.916359486Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"62007284-40e6-44cc-8948-2a3811c14e4c\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2487\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nhsvg"}

