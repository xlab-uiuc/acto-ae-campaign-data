{"severity":"INFO","timestamp":"2023-03-31T08:15:40.948438952Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"150b7faa-1ccb-4eeb-9ffb-d4c977bee2b0","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:40.948559949Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"150b7faa-1ccb-4eeb-9ffb-d4c977bee2b0","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:40.974010422Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:40.974314331Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:41.743571525Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"labels\":{\"app.kubernetes.io/component\":null,\"networking.knative.dev/ingress-provider\":null}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:41.743835672Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"/knative-serving","type":"/v1, Kind=Namespace"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:44.743427671Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:44.743709676Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:45.345519659Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:45.347749857Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:45.448637108Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:45.554420512Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"150b7faa-1ccb-4eeb-9ffb-d4c977bee2b0","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:45.554520673Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"150b7faa-1ccb-4eeb-9ffb-d4c977bee2b0","knative.dev/key":"knative-serving/test-cluster","duration":"4.631206387s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:45.554886342Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2443\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:45.555675149Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a0efcadb-a96c-4892-a9c6-2aa10ac4df45","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:15:45.744609832Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a0efcadb-a96c-4892-a9c6-2aa10ac4df45","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:45.744753224Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a0efcadb-a96c-4892-a9c6-2aa10ac4df45","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:46.645157564Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:46.645617792Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:51.244335622Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:51.244668605Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:51.84675718Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:51.84816095Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:51.948183659Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:52.04987273Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a0efcadb-a96c-4892-a9c6-2aa10ac4df45","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:52.049946787Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"a0efcadb-a96c-4892-a9c6-2aa10ac4df45","knative.dev/key":"knative-serving/test-cluster","duration":"6.494336702s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:52.05005652Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0f56d49d-11f6-4cea-b558-c7100320fb70","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:15:52.050092798Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:52.245295546Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0f56d49d-11f6-4cea-b558-c7100320fb70","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:52.245544705Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0f56d49d-11f6-4cea-b558-c7100320fb70","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:53.14616915Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:53.146578533Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:57.745780428Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:57.746727723Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:58.346670379Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:58.348856913Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:58.447830411Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:58.55021051Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0f56d49d-11f6-4cea-b558-c7100320fb70","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:15:58.550292609Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0f56d49d-11f6-4cea-b558-c7100320fb70","knative.dev/key":"knative-serving/test-cluster","duration":"6.500288653s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:58.550418521Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"554893a2-5b9c-4061-bdab-03db27e0d6a8","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:15:58.550480854Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:58.743996384Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"554893a2-5b9c-4061-bdab-03db27e0d6a8","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:58.744218295Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"554893a2-5b9c-4061-bdab-03db27e0d6a8","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:59.645461381Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:15:59.646064735Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:04.244496099Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:04.245024926Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:04.847930891Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:04.849865322Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:04.947736965Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:05.048868788Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"554893a2-5b9c-4061-bdab-03db27e0d6a8","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:05.049002315Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"554893a2-5b9c-4061-bdab-03db27e0d6a8","knative.dev/key":"knative-serving/test-cluster","duration":"6.498637614s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:05.049167042Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:05.049188547Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"83c65f8a-a158-4da1-b15a-2ffb8818106c","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:05.24463505Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"83c65f8a-a158-4da1-b15a-2ffb8818106c","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:05.244809041Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"83c65f8a-a158-4da1-b15a-2ffb8818106c","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:06.144423104Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:06.144931284Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:10.745471696Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:10.745816012Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:11.346369072Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:11.347146735Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:11.447456165Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:11.549874294Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"83c65f8a-a158-4da1-b15a-2ffb8818106c","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:11.549957576Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"83c65f8a-a158-4da1-b15a-2ffb8818106c","knative.dev/key":"knative-serving/test-cluster","duration":"6.500849331s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:11.550101527Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"db0e3064-e5de-4ed9-96a8-a034b1e115a1","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:11.55034635Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:11.745191796Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"db0e3064-e5de-4ed9-96a8-a034b1e115a1","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:11.74544836Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"db0e3064-e5de-4ed9-96a8-a034b1e115a1","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:12.64588923Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:12.646366684Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:17.244620139Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:17.245114562Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:17.846004629Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:17.84803571Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:17.951668002Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:18.047783405Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"db0e3064-e5de-4ed9-96a8-a034b1e115a1","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:18.047880624Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"db0e3064-e5de-4ed9-96a8-a034b1e115a1","knative.dev/key":"knative-serving/test-cluster","duration":"6.497846599s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:18.048035937Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"433090f9-720f-459f-9129-a7d9a2a7a2fa","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:18.048061075Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:18.246167789Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"433090f9-720f-459f-9129-a7d9a2a7a2fa","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:18.246405762Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"433090f9-720f-459f-9129-a7d9a2a7a2fa","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:19.143483094Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:19.14379221Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:23.746167152Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:23.746797565Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:24.347020114Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:24.348886009Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:24.448770059Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:24.550213741Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"433090f9-720f-459f-9129-a7d9a2a7a2fa","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:24.550456193Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"433090f9-720f-459f-9129-a7d9a2a7a2fa","knative.dev/key":"knative-serving/test-cluster","duration":"6.502499407s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:24.550661493Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:24.550948369Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd3ef2cc-c7e3-4b96-bb0f-16bb6d72015a","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:24.746447144Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd3ef2cc-c7e3-4b96-bb0f-16bb6d72015a","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:24.74662466Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd3ef2cc-c7e3-4b96-bb0f-16bb6d72015a","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:25.644769373Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:25.645195781Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:30.24617851Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:30.246646647Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:30.8461891Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:30.847890212Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:30.949058125Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:31.049112802Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd3ef2cc-c7e3-4b96-bb0f-16bb6d72015a","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:31.049248346Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"bd3ef2cc-c7e3-4b96-bb0f-16bb6d72015a","knative.dev/key":"knative-serving/test-cluster","duration":"6.498588426s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:31.049436345Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"967835dd-fa3c-4a16-8deb-59be95165230","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:31.049501309Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:31.243789161Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"967835dd-fa3c-4a16-8deb-59be95165230","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:31.243877306Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"967835dd-fa3c-4a16-8deb-59be95165230","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:32.145328005Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:32.146062367Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:36.74467526Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:36.745039367Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:37.346363948Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:37.348211732Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:37.448009614Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:37.548702508Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"967835dd-fa3c-4a16-8deb-59be95165230","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:37.548837057Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"967835dd-fa3c-4a16-8deb-59be95165230","knative.dev/key":"knative-serving/test-cluster","duration":"6.499482859s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:37.549018299Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:37.549056168Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8280676f-caef-43eb-a150-c0e0eeaace07","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:37.743591278Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8280676f-caef-43eb-a150-c0e0eeaace07","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:37.743728452Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8280676f-caef-43eb-a150-c0e0eeaace07","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:38.644719936Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:38.645163232Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:43.243999073Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:43.244399639Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:43.846163105Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:43.847520809Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:43.946594561Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:44.045995174Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8280676f-caef-43eb-a150-c0e0eeaace07","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:44.046142129Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"8280676f-caef-43eb-a150-c0e0eeaace07","knative.dev/key":"knative-serving/test-cluster","duration":"6.497196951s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:44.046292669Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:44.04635316Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"92181aa6-0f8a-47d4-afb2-878cdf474c96","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:44.244400049Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"92181aa6-0f8a-47d4-afb2-878cdf474c96","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:44.24454978Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"92181aa6-0f8a-47d4-afb2-878cdf474c96","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:45.143428419Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:45.143878658Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:49.745598467Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:49.746435443Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:50.346861412Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:50.348300248Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:50.451424422Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:50.548730233Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"92181aa6-0f8a-47d4-afb2-878cdf474c96","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:50.548899405Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"92181aa6-0f8a-47d4-afb2-878cdf474c96","knative.dev/key":"knative-serving/test-cluster","duration":"6.502643986s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:50.549037145Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:50.549105374Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"383e8834-d129-4718-a005-7882f08ddf50","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:50.745064881Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"383e8834-d129-4718-a005-7882f08ddf50","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:50.745372409Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"383e8834-d129-4718-a005-7882f08ddf50","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:51.644176437Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:51.644625329Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:56.244967997Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:56.245655194Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:56.847709521Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:56.849892624Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:56.949407988Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:57.050828444Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"383e8834-d129-4718-a005-7882f08ddf50","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:16:57.050980531Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"383e8834-d129-4718-a005-7882f08ddf50","knative.dev/key":"knative-serving/test-cluster","duration":"6.501963533s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:57.051137186Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:57.051263646Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"120ee316-92f5-4d9d-b946-3ebe26fdb7f8","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:16:57.244181517Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"120ee316-92f5-4d9d-b946-3ebe26fdb7f8","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:57.244382881Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"120ee316-92f5-4d9d-b946-3ebe26fdb7f8","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:58.146776965Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:16:58.147714533Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:02.744548001Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:02.745092028Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:03.345220424Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:03.346464995Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:03.447251182Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:03.545582517Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"120ee316-92f5-4d9d-b946-3ebe26fdb7f8","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:03.545916634Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"120ee316-92f5-4d9d-b946-3ebe26fdb7f8","knative.dev/key":"knative-serving/test-cluster","duration":"6.494757076s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:03.546089637Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:07.292247193Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"256ccbc9-f42f-409c-866f-660b78381763","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:17:07.324026582Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"256ccbc9-f42f-409c-866f-660b78381763","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:07.32421736Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"256ccbc9-f42f-409c-866f-660b78381763","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:07.361448575Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:07.362411701Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:11.018016677Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:11.018412388Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:11.621820912Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:11.6228487Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:11.72087392Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:11.820246063Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"256ccbc9-f42f-409c-866f-660b78381763","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:11.820335139Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"256ccbc9-f42f-409c-866f-660b78381763","knative.dev/key":"knative-serving/test-cluster","duration":"4.52821208s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:11.820436818Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:52.780679448Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"047ec779-7d70-4575-98df-c935e3b90e2e","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T08:11:27Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T08:11:43Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T08:15:45Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T08:11:12Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T08:17:52.814613784Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"047ec779-7d70-4575-98df-c935e3b90e2e","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:52.814744002Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"047ec779-7d70-4575-98df-c935e3b90e2e","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:52.844150854Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:52.844529005Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:56.499306108Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:56.499782484Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:57.102851192Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"fieldRef\":{\"apiVersion\":\"ACTOKEY\",\"fieldPath\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:57.105497758Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:57.204206378Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:57.303641488Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"047ec779-7d70-4575-98df-c935e3b90e2e","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T08:17:57.303790126Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-nbpgr","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"047ec779-7d70-4575-98df-c935e3b90e2e","knative.dev/key":"knative-serving/test-cluster","duration":"4.523201543s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T08:17:57.30391717Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"34864c24-0c0a-4f37-897c-629ddb2e333f\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2471\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.fieldRef.fieldPath: Invalid value: \"ACTOKEY\": error converting fieldPath: unsupported pod version: ACTOKEY, spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-nbpgr"}

