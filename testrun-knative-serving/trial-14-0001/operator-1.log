{"severity":"INFO","timestamp":"2023-03-31T07:30:45.253642378Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0793365e-63d0-4706-8ee7-14ea8bed73d9","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:45.254043525Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0793365e-63d0-4706-8ee7-14ea8bed73d9","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:45.29345977Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:45.294153012Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:46.045430388Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"labels\":{\"app.kubernetes.io/component\":null,\"networking.knative.dev/ingress-provider\":null}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:46.045980392Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"/knative-serving","type":"/v1, Kind=Namespace"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:49.045554526Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:49.046474491Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:49.646898075Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:49.647625244Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:30:49.751709005Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:30:49.861131788Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0793365e-63d0-4706-8ee7-14ea8bed73d9","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:30:49.861222344Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"0793365e-63d0-4706-8ee7-14ea8bed73d9","knative.dev/key":"knative-serving/test-cluster","duration":"4.634273685s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:49.861312593Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2427\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:49.863154494Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"826b789a-d408-4b64-bbe1-26e335a6a7c3","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:30:50.045897242Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"826b789a-d408-4b64-bbe1-26e335a6a7c3","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:50.046126252Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"826b789a-d408-4b64-bbe1-26e335a6a7c3","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:50.945902648Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:50.946533411Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:55.544462835Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:55.545018112Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:56.146765361Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:56.148279688Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:30:56.250390892Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:30:56.351748661Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"826b789a-d408-4b64-bbe1-26e335a6a7c3","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:30:56.351885302Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"826b789a-d408-4b64-bbe1-26e335a6a7c3","knative.dev/key":"knative-serving/test-cluster","duration":"6.488800964s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:56.35205467Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:56.352096083Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2b67586f-1630-4b48-98c8-bd2b74c72ce9","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:30:56.545531716Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2b67586f-1630-4b48-98c8-bd2b74c72ce9","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:56.545908119Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2b67586f-1630-4b48-98c8-bd2b74c72ce9","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:57.447220706Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:30:57.447899392Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:02.046313142Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:02.046795166Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:02.649641735Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:02.651029675Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:02.748713954Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:02.849175024Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2b67586f-1630-4b48-98c8-bd2b74c72ce9","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:02.849326499Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"2b67586f-1630-4b48-98c8-bd2b74c72ce9","knative.dev/key":"knative-serving/test-cluster","duration":"6.497324613s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:02.849504258Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:02.849542195Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"ae4ff3d3-7dea-4bf2-bf9e-9f2121b93207","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:03.045222809Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"ae4ff3d3-7dea-4bf2-bf9e-9f2121b93207","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:03.045386106Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"ae4ff3d3-7dea-4bf2-bf9e-9f2121b93207","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:03.944968803Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:03.945528741Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:08.545010921Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:08.545479338Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:09.148770628Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:09.150524205Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:09.247825965Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:09.349500757Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"ae4ff3d3-7dea-4bf2-bf9e-9f2121b93207","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:09.349850688Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"ae4ff3d3-7dea-4bf2-bf9e-9f2121b93207","knative.dev/key":"knative-serving/test-cluster","duration":"6.500410398s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:09.350009541Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:09.350212786Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"1f86befc-ea8d-4159-8fe2-5d465a3c7923","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:09.544474429Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"1f86befc-ea8d-4159-8fe2-5d465a3c7923","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:09.544741938Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"1f86befc-ea8d-4159-8fe2-5d465a3c7923","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:10.446604903Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:10.447269373Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:15.045944936Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:15.046414154Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:15.648019519Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:15.650201958Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:15.7468534Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:15.84712702Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"1f86befc-ea8d-4159-8fe2-5d465a3c7923","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:15.847233456Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"1f86befc-ea8d-4159-8fe2-5d465a3c7923","knative.dev/key":"knative-serving/test-cluster","duration":"6.497183203s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:15.847398717Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9094d839-4a85-4460-9a96-1cf31fbb6a12","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:15.847383054Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:16.044850733Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9094d839-4a85-4460-9a96-1cf31fbb6a12","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:16.045073052Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9094d839-4a85-4460-9a96-1cf31fbb6a12","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:16.945311088Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:16.946032958Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:21.544167427Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:21.544711095Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:22.148759803Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:22.150538631Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:22.247941266Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:22.346661335Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9094d839-4a85-4460-9a96-1cf31fbb6a12","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:22.346822068Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9094d839-4a85-4460-9a96-1cf31fbb6a12","knative.dev/key":"knative-serving/test-cluster","duration":"6.499495584s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:22.346978302Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:22.347034394Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9022c2df-1805-45b3-aebd-7a4c8f9bd594","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:22.545019033Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9022c2df-1805-45b3-aebd-7a4c8f9bd594","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:22.545240743Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9022c2df-1805-45b3-aebd-7a4c8f9bd594","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:23.444943063Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:23.445345827Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:28.044372936Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:28.044859853Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:28.649462783Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:28.650804518Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:28.751062443Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:28.852692502Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9022c2df-1805-45b3-aebd-7a4c8f9bd594","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:28.852854637Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"9022c2df-1805-45b3-aebd-7a4c8f9bd594","knative.dev/key":"knative-serving/test-cluster","duration":"6.505912783s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:28.852989344Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:28.853144477Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"308775fd-4b50-4eea-ac27-cb5178f2785d","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:29.045972748Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"308775fd-4b50-4eea-ac27-cb5178f2785d","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:29.046307213Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"308775fd-4b50-4eea-ac27-cb5178f2785d","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:29.94432703Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:29.944840189Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:34.546723868Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:34.547696244Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:35.148639856Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:35.150080675Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:35.246338349Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:35.349463577Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"308775fd-4b50-4eea-ac27-cb5178f2785d","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:35.349590754Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"308775fd-4b50-4eea-ac27-cb5178f2785d","knative.dev/key":"knative-serving/test-cluster","duration":"6.496581864s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:35.349812134Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:35.349938074Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c86c4a6e-b269-491f-ac39-7de0084035c2","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:35.54466167Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c86c4a6e-b269-491f-ac39-7de0084035c2","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:35.544821646Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c86c4a6e-b269-491f-ac39-7de0084035c2","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:36.445907519Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:36.446276401Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:41.046132457Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:41.046629243Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:41.647369577Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:41.648732751Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:41.750012892Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:41.848612609Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c86c4a6e-b269-491f-ac39-7de0084035c2","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:41.848738214Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c86c4a6e-b269-491f-ac39-7de0084035c2","knative.dev/key":"knative-serving/test-cluster","duration":"6.498894115s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:41.848880802Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:41.848961772Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"00603ff6-924f-43e2-acd1-ff8579a1a452","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:42.045634035Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"00603ff6-924f-43e2-acd1-ff8579a1a452","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:42.045993954Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"00603ff6-924f-43e2-acd1-ff8579a1a452","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:42.945347917Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:42.94569021Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:47.544810633Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:47.545305217Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:48.14688667Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:48.148888309Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:48.251625705Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:48.348287319Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"00603ff6-924f-43e2-acd1-ff8579a1a452","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:48.348394666Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"00603ff6-924f-43e2-acd1-ff8579a1a452","knative.dev/key":"knative-serving/test-cluster","duration":"6.499536859s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:48.348549018Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:48.348558313Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c0eb6ee8-390a-4491-9ff9-2fbde211026f","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:48.546017751Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c0eb6ee8-390a-4491-9ff9-2fbde211026f","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:48.546284403Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c0eb6ee8-390a-4491-9ff9-2fbde211026f","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:49.446803462Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:49.447668431Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:54.045763127Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:54.046415726Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:54.648038513Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:54.650179084Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:54.749654457Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:54.848855782Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c0eb6ee8-390a-4491-9ff9-2fbde211026f","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:31:54.848971302Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"c0eb6ee8-390a-4491-9ff9-2fbde211026f","knative.dev/key":"knative-serving/test-cluster","duration":"6.500487249s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:54.849108588Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:54.84923882Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f9860456-e118-493b-96d3-bb0c0ac507a0","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:31:55.046340509Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f9860456-e118-493b-96d3-bb0c0ac507a0","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:55.046501779Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f9860456-e118-493b-96d3-bb0c0ac507a0","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:55.947469463Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:31:55.949622363Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:00.545136962Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:00.5459286Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:01.148373763Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:01.150403484Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:01.251391858Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:01.348333091Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f9860456-e118-493b-96d3-bb0c0ac507a0","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:01.348451217Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"f9860456-e118-493b-96d3-bb0c0ac507a0","knative.dev/key":"knative-serving/test-cluster","duration":"6.499318694s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:01.348654844Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7c1a35cb-5d9d-4d6a-8333-d4b1fb563189","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:32:01.348711233Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:01.545637213Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7c1a35cb-5d9d-4d6a-8333-d4b1fb563189","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:01.546030976Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7c1a35cb-5d9d-4d6a-8333-d4b1fb563189","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:02.446670882Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:02.44713232Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:07.044541273Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:07.045200379Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:07.647455863Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:07.649895596Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:07.751075643Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:07.849878033Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7c1a35cb-5d9d-4d6a-8333-d4b1fb563189","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:07.850034821Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"7c1a35cb-5d9d-4d6a-8333-d4b1fb563189","knative.dev/key":"knative-serving/test-cluster","duration":"6.501468372s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:07.850183322Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:11.589469743Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"dc96d66e-1910-4d11-be6d-b639fbf4dee1","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:32:11.613051021Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"dc96d66e-1910-4d11-be6d-b639fbf4dee1","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:11.613209121Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"dc96d66e-1910-4d11-be6d-b639fbf4dee1","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:11.647378587Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:11.647711281Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:15.311107879Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:15.311745846Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:15.914778461Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:15.91641116Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:16.017938513Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:16.116817318Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"dc96d66e-1910-4d11-be6d-b639fbf4dee1","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:32:16.116956058Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"dc96d66e-1910-4d11-be6d-b639fbf4dee1","knative.dev/key":"knative-serving/test-cluster","duration":"4.527646084s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:16.117113219Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:57.078009031Z","logger":"knative-operator","caller":"knativeserving/knativeserving.go:100","message":"Reconciling KnativeServing","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e92ed5e5-f0eb-4218-8430-4e14117099b3","knative.dev/key":"knative-serving/test-cluster","status":{"observedGeneration":2,"conditions":[{"type":"DependenciesInstalled","status":"True","lastTransitionTime":"2023-03-31T07:26:32Z"},{"type":"DeploymentsAvailable","status":"True","lastTransitionTime":"2023-03-31T07:26:49Z"},{"type":"InstallSucceeded","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"Ready","status":"False","lastTransitionTime":"2023-03-31T07:30:49Z","reason":"Error","message":"Install failed with message: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]"},{"type":"VersionMigrationEligible","status":"True","lastTransitionTime":"2023-03-31T07:26:16Z"}],"version":"1.6.0","manifests":["/var/run/ko/knative-serving/1.6.0"]}}
{"severity":"INFO","timestamp":"2023-03-31T07:32:57.11612895Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e92ed5e5-f0eb-4218-8430-4e14117099b3","knative.dev/key":"knative-serving/test-cluster","map":"config-autoscaler","key1":"value1"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:57.116306021Z","logger":"knative-operator","caller":"common/config_maps.go:57","message":"Setting","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e92ed5e5-f0eb-4218-8430-4e14117099b3","knative.dev/key":"knative-serving/test-cluster","map":"config-network","ingress-class":"kourier.ingress.networking.knative.dev"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:57.156218254Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"metadata\":{\"namespace\":\"knative-serving\"}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:32:57.156585954Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/net-kourier","type":"rbac.authorization.k8s.io/v1, Kind=ClusterRole"}
{"severity":"INFO","timestamp":"2023-03-31T07:33:00.801935338Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"selector\":{\"matchLabels\":{\"app\":\"activator\"}}},\"status\":{\"currentHealthy\":0,\"desiredHealthy\":0,\"expectedPods\":0}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:33:00.802729062Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/activator-pdb","type":"policy/v1, Kind=PodDisruptionBudget"}
{"severity":"INFO","timestamp":"2023-03-31T07:33:01.402790003Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:145","message":"Merging","knative.dev/pod":"knative-operator-668fb586bb-xt659","diff":"{\"spec\":{\"template\":{\"spec\":{\"$setElementOrder/containers\":[{\"name\":\"controller\"}],\"containers\":[{\"$setElementOrder/env\":[{\"name\":\"POD_NAME\"},{\"name\":\"SYSTEM_NAMESPACE\"},{\"name\":\"CONFIG_LOGGING_NAME\"},{\"name\":\"CONFIG_OBSERVABILITY_NAME\"},{\"name\":\"METRICS_DOMAIN\"},{\"name\":\"ENVAR_1\"}],\"env\":[{\"name\":\"ENVAR_1\",\"valueFrom\":{\"resourceFieldRef\":{\"divisor\":\"0\",\"resource\":\"ACTOKEY\"}}}],\"name\":\"controller\"}]}}}}"}
{"severity":"INFO","timestamp":"2023-03-31T07:33:01.404112258Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:207","message":"Updating","knative.dev/pod":"knative-operator-668fb586bb-xt659","name":"knative-serving/controller","type":"apps/v1, Kind=Deployment"}
{"severity":"ERROR","timestamp":"2023-03-31T07:33:01.504112953Z","logger":"knative-operator.manifestival","caller":"manifestival@v0.7.1/manifestival.go:165","message":"Failed to update merged resource, trying overwrite","knative.dev/pod":"knative-operator-668fb586bb-xt659","error":"Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"github.com/manifestival/manifestival.Manifest.update\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:165\ngithub.com/manifestival/manifestival.Manifest.apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:155\ngithub.com/manifestival/manifestival.Manifest.Apply\n\tgithub.com/manifestival/manifestival@v0.7.1/manifestival.go:100\nknative.dev/operator/pkg/reconciler/common.Install\n\tknative.dev/operator/pkg/reconciler/common/install.go:54\nknative.dev/operator/pkg/reconciler/common.Stages.Execute\n\tknative.dev/operator/pkg/reconciler/common/stages.go:37\nknative.dev/operator/pkg/reconciler/knativeserving.(*Reconciler).ReconcileKind\n\tknative.dev/operator/pkg/reconciler/knativeserving/knativeserving.go:123\nknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:235\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:33:01.607235038Z","logger":"knative-operator","caller":"knativeserving/reconciler.go:294","message":"Returned an error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e92ed5e5-f0eb-4218-8430-4e14117099b3","knative.dev/key":"knative-serving/test-cluster","targetMethod":"ReconcileKind","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving.(*reconcilerImpl).Reconcile\n\tknative.dev/operator/pkg/client/injection/reconciler/operator/v1beta1/knativeserving/reconciler.go:294\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:542\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"ERROR","timestamp":"2023-03-31T07:33:01.60735977Z","logger":"knative-operator","caller":"controller/controller.go:566","message":"Reconcile error","knative.dev/pod":"knative-operator-668fb586bb-xt659","knative.dev/controller":"knative.dev.operator.pkg.reconciler.knativeserving.Reconciler","knative.dev/kind":"operator.knative.dev.KnativeServing","knative.dev/traceid":"e92ed5e5-f0eb-4218-8430-4e14117099b3","knative.dev/key":"knative-serving/test-cluster","duration":"4.529481451s","error":"failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","stacktrace":"knative.dev/pkg/controller.(*Impl).handleErr\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:566\nknative.dev/pkg/controller.(*Impl).processNextWorkItem\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:543\nknative.dev/pkg/controller.(*Impl).RunContext.func3\n\tknative.dev/pkg@v0.0.0-20220705130606-e60d250dc637/controller/controller.go:491"}
{"severity":"INFO","timestamp":"2023-03-31T07:33:01.60749989Z","logger":"knative-operator.event-broadcaster","caller":"record/event.go:285","message":"Event(v1.ObjectReference{Kind:\"KnativeServing\", Namespace:\"knative-serving\", Name:\"test-cluster\", UID:\"edc59d26-ef99-451d-a64c-3ff7a25eb1b8\", APIVersion:\"operator.knative.dev/v1beta1\", ResourceVersion:\"2452\", FieldPath:\"\"}): type: 'Warning' reason: 'InternalError' failed to apply non rbac manifest: Deployment.apps \"controller\" is invalid: [spec.template.spec.containers[0].env[5].valueFrom.resourceFieldRef.resource: Unsupported value: \"ACTOKEY\": supported values: \"limits.cpu\", \"limits.ephemeral-storage\", \"limits.memory\", \"requests.cpu\", \"requests.ephemeral-storage\", \"requests.memory\", spec.template.spec.containers[0].env[5].valueFrom: Invalid value: \"\": may not be specified when `value` is not empty]","knative.dev/pod":"knative-operator-668fb586bb-xt659"}

