{"level":"info","ts":1680283587.956285,"logger":"controller_psmdb","msg":"Arbiter size will be changed from 2 to 1 due to safe config"}
{"level":"info","ts":1680283587.9563107,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283587.9563172,"logger":"controller_psmdb","msg":"Replset size will be changed from 2 to 4 due to safe config"}
{"level":"info","ts":1680283587.956321,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283587.9564703,"logger":"controller_psmdb","msg":"Replset size will be increased from 2 to 3"}
{"level":"info","ts":1680283587.9564795,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283587.9564927,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283587.986108,"logger":"controller_psmdb","msg":"Waiting for the pods","replsetSize":3,"pods":0}
{"level":"info","ts":1680283588.0062442,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-rs0"}
{"level":"error","ts":1680283618.0597494,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for rs0: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-3.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.144.174:27017,10.96.94.123:27017,10.96.98.127:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.144.174:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.144.174:27017: i/o timeout }, { Addr: 10.96.94.123:27017, Type: RSGhost, Average RTT: 934311 }, { Addr: 10.96.98.127:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.98.127:27017: i/o timeout }, ] }","errorVerbose":"reconcile StatefulSet for rs0: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-3.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.144.174:27017,10.96.94.123:27017,10.96.98.127:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.144.174:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.144.174:27017: i/o timeout }, { Addr: 10.96.94.123:27017, Type: RSGhost, Average RTT: 934311 }, { Addr: 10.96.98.127:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.98.127:27017: i/o timeout }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283618.060219,"logger":"controller_psmdb","msg":"Arbiter size will be changed from 2 to 1 due to safe config"}
{"level":"info","ts":1680283618.0602376,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283618.0602455,"logger":"controller_psmdb","msg":"Replset size will be changed from 2 to 4 due to safe config"}
{"level":"info","ts":1680283618.0602517,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283618.0603695,"logger":"controller_psmdb","msg":"Replset size will be increased from 2 to 3"}
{"level":"info","ts":1680283618.0603764,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283618.060388,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283618.0675762,"logger":"controller_psmdb","msg":"Waiting for the pods","replsetSize":3,"pods":2}
{"level":"info","ts":1680283618.0777345,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-rs0-arbiter"}
{"level":"error","ts":1680283648.1216822,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile Arbiter StatefulSet for rs0: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-3.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.144.174:27017,10.96.94.123:27017,10.96.98.127:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.144.174:27017, Type: RSGhost, Average RTT: 621164 }, { Addr: 10.96.94.123:27017, Type: RSGhost, Average RTT: 664805 }, { Addr: 10.96.98.127:27017, Type: RSGhost, Average RTT: 1221325 }, ] }","errorVerbose":"reconcile Arbiter StatefulSet for rs0: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-3.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.144.174:27017,10.96.94.123:27017,10.96.98.127:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.144.174:27017, Type: RSGhost, Average RTT: 621164 }, { Addr: 10.96.94.123:27017, Type: RSGhost, Average RTT: 664805 }, { Addr: 10.96.98.127:27017, Type: RSGhost, Average RTT: 1221325 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:417\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283648.1223345,"logger":"controller_psmdb","msg":"Arbiter size will be changed from 2 to 1 due to safe config"}
{"level":"info","ts":1680283648.1223626,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283648.1223698,"logger":"controller_psmdb","msg":"Replset size will be changed from 2 to 4 due to safe config"}
{"level":"info","ts":1680283648.1223743,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283648.1225195,"logger":"controller_psmdb","msg":"Replset size will be increased from 2 to 3"}
{"level":"info","ts":1680283648.1225293,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283648.1225393,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283658.1350496,"logger":"controller_psmdb","msg":"initiating replset","replset":"cfg","pod":"test-cluster-cfg-1"}
{"level":"error","ts":1680283664.388344,"logger":"controller_psmdb","msg":"failed to reconcile cluster","Request.Namespace":"acto-namespace","Request.Name":"test-cluster","replset":"cfg","error":"handleReplsetInit: exec add admin user: command terminated with exit code 252 / Percona Server for MongoDB shell version v4.4.10-11\nconnecting to: mongodb://127.0.0.1:27017/?compressors=disabled&gssapiServiceName=mongodb\nImplicit session: session { \"id\" : UUID(\"6b9c1562-5e31-4f50-8005-b014c79a9085\") }\nPercona Server for MongoDB server version: v4.4.10-11\nuncaught exception: Error: couldn't add user: command createUser requires authentication :\n_getErrorWithCode@src/mongo/shell/utils.js:25:13\nDB.prototype.createUser@src/mongo/shell/db.js:1386:11\n@(shell eval):1:1\nexiting with code -4\n / ","errorVerbose":"exec add admin user: command terminated with exit code 252 / Percona Server for MongoDB shell version v4.4.10-11\nconnecting to: mongodb://127.0.0.1:27017/?compressors=disabled&gssapiServiceName=mongodb\nImplicit session: session { \"id\" : UUID(\"6b9c1562-5e31-4f50-8005-b014c79a9085\") }\nPercona Server for MongoDB server version: v4.4.10-11\nuncaught exception: Error: couldn't add user: command createUser requires authentication :\n_getErrorWithCode@src/mongo/shell/utils.js:25:13\nDB.prototype.createUser@src/mongo/shell/db.js:1386:11\n@(shell eval):1:1\nexiting with code -4\n / \nhandleReplsetInit\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:99\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283664.4061172,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-rs0-nv"}

