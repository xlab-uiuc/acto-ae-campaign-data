{"level":"info","ts":1680283194.628283,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283194.62829,"logger":"controller_psmdb","msg":"Replset size will be changed from 2 to 4 due to safe config"}
{"level":"info","ts":1680283194.6282945,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283194.6284232,"logger":"controller_psmdb","msg":"Replset size will be increased from 2 to 3"}
{"level":"info","ts":1680283194.6284318,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680283194.628442,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283200.203588,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283202.8796916,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-arbiter"}
{"level":"info","ts":1680283202.8799276,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680283219.666338,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283219.670024,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680283219.7835479,"logger":"controller_psmdb","msg":"balancer disabled"}
{"level":"info","ts":1680283219.800274,"logger":"controller_psmdb","msg":"primary pod is 10.96.191.119:27017"}
{"level":"info","ts":1680283219.8003545,"logger":"controller_psmdb","msg":"apply changes to secondary pod","pod":"test-cluster-cfg-1"}
{"level":"info","ts":1680283234.122053,"logger":"controller_psmdb","msg":"pod test-cluster-cfg-1 started"}
{"level":"info","ts":1680283234.122251,"logger":"controller_psmdb","msg":"doing step down...","force":false}
{"level":"error","ts":1680283294.1497855,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to do step down: replSetStepDown: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.191.119:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 855699 }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 990096 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to do step down: replSetStepDown: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.191.119:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 855699 }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 990096 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283294.1502564,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283294.1516702,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283324.1991708,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.191.119:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 869103 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: connect: connection refused }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 677281 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.191.119:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 869103 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: connect: connection refused }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 677281 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283324.1997745,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283324.2008684,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283354.2447708,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.191.119:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.191.119:27017: connect: connection refused }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: connect: connection refused }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 573333 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.191.119:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.191.119:27017: connect: connection refused }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: connect: connection refused }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 573333 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283354.2452638,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283354.2469885,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680283354.2470088,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680283364.2614317,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 995576 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 995576 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283364.2777164,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":91921,"members":[{"_id":0,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"642714dacebb477a5cd83563"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680283364.3228416,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283364.3237836,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283364.32457,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"error","ts":1680283374.3923905,"logger":"controller_psmdb","msg":"failed to reconcile cluster","Request.Namespace":"acto-namespace","Request.Name":"test-cluster","replset":"rs0","error":"create system users: failed to get mongo client: ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 867795 }, { Addr: test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.145.9:27017, Type: Unknown }, { Addr: 10.96.145.36:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-1, Average RTT: 933209 }, { Addr: 10.96.25.243:27017, Type: Unknown }, { Addr: 10.96.199.250:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-0,serviceName=test-cluster, Average RTT: 991305 }, { Addr: 10.96.131.142:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-nv-0,serviceName=test-cluster,nonVoting=true, Average RTT: 1443669 }, { Addr: 10.96.158.102:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-nv-1,nonVoting=true, Average RTT: 1125934 }, { Addr: 10.96.181.236:27017, Type: RSArbiter, Average RTT: 791098 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 867795 }, { Addr: test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.145.9:27017, Type: Unknown }, { Addr: 10.96.145.36:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-1, Average RTT: 933209 }, { Addr: 10.96.25.243:27017, Type: Unknown }, { Addr: 10.96.199.250:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-0,serviceName=test-cluster, Average RTT: 991305 }, { Addr: 10.96.131.142:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-nv-0,serviceName=test-cluster,nonVoting=true, Average RTT: 1443669 }, { Addr: 10.96.158.102:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-nv-1,nonVoting=true, Average RTT: 1125934 }, { Addr: 10.96.181.236:27017, Type: RSArbiter, Average RTT: 791098 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).createOrUpdateSystemUsers\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:594\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:120\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581\nfailed to get mongo client\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).createOrUpdateSystemUsers\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:596\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:120\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581\ncreate system users\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:122\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283374.3944027,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-nv"}
{"level":"info","ts":1680283374.395156,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680283374.4197454,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283374.4214506,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283405.7887518,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 510617 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 956906 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 595835 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 510617 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 956906 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 595835 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283405.7894468,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283405.7915568,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283435.8415422,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 1112464 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 677221 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1025799 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 1112464 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 677221 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1025799 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283435.8427145,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283435.8444896,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283465.8969269,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 100125709 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 828910 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1222891 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 100125709 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 828910 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1222891 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283465.8984833,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283465.901027,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283495.9446087,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 875197 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 1234416 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 758237 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 875197 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 1234416 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 758237 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283495.9452171,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283495.9494753,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283525.997809,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 527101 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.191.119:27017: connect: connection refused }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 517079 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.191.119:27017,10.96.251.152:27017,10.96.4.23:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 527101 }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.191.119:27017: connect: connection refused }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 517079 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283525.9983869,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283525.9999816,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680283526.0000029,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680283536.0077024,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 829805 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 829805 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283539.091067,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":125357,"members":[{"_id":0,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"642714dacebb477a5cd83563"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680283539.0933137,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283539.0937545,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283539.0942628,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283599.4828703,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680283599.4832175,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-arbiter"}
{"level":"info","ts":1680283599.5104353,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283599.511966,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680283599.5119867,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680283609.5182815,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 760376 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 951395 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 760376 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 951395 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"error","ts":1680283609.5443096,"logger":"controller_psmdb","msg":"failed to reconcile cluster","Request.Namespace":"acto-namespace","Request.Name":"test-cluster","replset":"cfg","error":"force reconfig to recover: get mongo config: replSetGetConfig: (NotYetInitialized) no replset config has been received","errorVerbose":"(NotYetInitialized) no replset config has been received\nreplSetGetConfig\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.ReadConfig\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:74\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).recoverReplsetNoPrimary\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:673\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:87\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581\nget mongo config\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).recoverReplsetNoPrimary\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:675\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:87\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581\nforce reconfig to recover\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:88\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283609.5457854,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283609.546252,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283609.5468984,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680283609.6813483,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-arbiter"}
{"level":"info","ts":1680283609.6817687,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680283609.7041223,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283609.705545,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283639.74604,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 2595566 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 608633 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 20764547 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 2595566 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 608633 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 20764547 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283639.746576,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283639.7482991,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283669.7887902,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 560255 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 4918133 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1065792 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 560255 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 4918133 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1065792 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283669.7892952,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283669.7908332,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283699.8403091,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 507575 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 893131 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 837168 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 507575 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 893131 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 837168 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283699.8410554,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283699.8428395,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283729.9000492,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 512961 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 2167494 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 482149 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 512961 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 2167494 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 482149 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283729.9006507,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283729.9027345,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283759.946692,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 7399532 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 5300047 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 5368905 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 7399532 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 5300047 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 5368905 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283759.9471202,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283759.948314,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680283790.013987,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 619093 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 619111 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 513460 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.4.23:27017,10.96.251.152:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.4.23:27017, Type: RSGhost, Average RTT: 619093 }, { Addr: 10.96.251.152:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.251.152:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 619111 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 513460 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680283790.0143445,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680283790.0155625,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}

