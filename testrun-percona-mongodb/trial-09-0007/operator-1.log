{"level":"info","ts":1680284657.930032,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680284657.9300375,"logger":"controller_psmdb","msg":"Replset size will be changed from 2 to 4 due to safe config"}
{"level":"info","ts":1680284657.930042,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680284657.9301982,"logger":"controller_psmdb","msg":"Replset size will be increased from 2 to 3"}
{"level":"info","ts":1680284657.9302053,"logger":"controller_psmdb","msg":"Set allowUnsafeConfigurations=true to disable safe configuration"}
{"level":"info","ts":1680284657.9302113,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284662.9399388,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284667.84697,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680284667.8475924,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680284682.9959993,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284682.9971492,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680284683.1076405,"logger":"controller_psmdb","msg":"balancer disabled"}
{"level":"info","ts":1680284683.1298552,"logger":"controller_psmdb","msg":"primary pod is 10.96.34.244:27017"}
{"level":"info","ts":1680284683.1299293,"logger":"controller_psmdb","msg":"apply changes to secondary pod","pod":"test-cluster-cfg-0"}
{"level":"info","ts":1680284700.5107465,"logger":"controller_psmdb","msg":"pod test-cluster-cfg-0 started"}
{"level":"info","ts":1680284700.5107918,"logger":"controller_psmdb","msg":"doing step down...","force":false}
{"level":"error","ts":1680284760.5338335,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to do step down: replSetStepDown: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 563811 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, { Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 1399842 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to do step down: replSetStepDown: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 563811 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, { Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 1399842 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680284760.5343118,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284760.5377808,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680284790.580104,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 688251 }, { Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 689730 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 688251 }, { Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 689730 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680284790.5807073,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284790.5824776,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680284820.6211238,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 712383 }, { Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-1,serviceName=test-cluster, Average RTT: 899416 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 712383 }, { Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-1,serviceName=test-cluster, Average RTT: 899416 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680284820.6216798,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284820.6232104,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680284850.6625156,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 713930 }, { Addr: 10.96.34.244:27017, Type: RSGhost, Average RTT: 7815278 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: i/o timeout }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 713930 }, { Addr: 10.96.34.244:27017, Type: RSGhost, Average RTT: 7815278 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: i/o timeout }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680284850.663489,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284850.6658788,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680284880.735746,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.235.25:27017: connect: connection refused }, { Addr: 10.96.34.244:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 948798 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.235.25:27017,10.96.34.244:27017,10.96.38.216:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.235.25:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.235.25:27017: connect: connection refused }, { Addr: 10.96.34.244:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 948798 }, { Addr: 10.96.38.216:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.38.216:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680284880.7362502,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284880.7376103,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680284880.737631,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680284890.7505586,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 568377 }, { Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-1,serviceName=test-cluster, Average RTT: 476009 }, { Addr: 10.96.38.216:27017, Type: Unknown }, { Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 1155721 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 568377 }, { Addr: 10.96.34.244:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-1,serviceName=test-cluster, Average RTT: 476009 }, { Addr: 10.96.38.216:27017, Type: Unknown }, { Addr: 10.96.235.25:27017, Type: RSGhost, Average RTT: 1155721 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680284890.7803617,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":181271,"members":[{"_id":0,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"64271b9d039f7fdfe3a53a9c"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680284890.8206978,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680284890.821489,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680284890.8222294,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680284990.8054297,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680284990.8057323,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680284990.832214,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680284990.834379,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}

