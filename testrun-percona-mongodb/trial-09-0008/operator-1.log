{"level":"info","ts":1680286239.3525906,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-nv"}
{"level":"info","ts":1680286239.3531017,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680286249.921746,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286249.9228265,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680286250.0894108,"logger":"controller_psmdb","msg":"balancer disabled"}
{"level":"info","ts":1680286250.106637,"logger":"controller_psmdb","msg":"primary pod is 10.96.133.75:27017"}
{"level":"info","ts":1680286250.106722,"logger":"controller_psmdb","msg":"apply changes to secondary pod","pod":"test-cluster-cfg-0"}
{"level":"info","ts":1680286267.546421,"logger":"controller_psmdb","msg":"pod test-cluster-cfg-0 started"}
{"level":"info","ts":1680286267.546504,"logger":"controller_psmdb","msg":"doing step down...","force":false}
{"level":"error","ts":1680286327.565156,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to do step down: replSetStepDown: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.133.75:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 1139238 }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 596506 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to do step down: replSetStepDown: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.133.75:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 1139238 }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 596506 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286327.5656433,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286327.5669246,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286357.620748,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.133.75:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 769121 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 450168 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.133.75:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 769121 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 450168 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286357.621388,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286357.6231196,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286387.665058,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 24297516 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 25069362 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 24297516 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 25069362 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286387.6655242,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286387.6669974,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286417.7116313,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 743098 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 779697 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 743098 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 779697 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286417.7123692,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286417.7139208,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286447.7533395,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 475957 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.78.140:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: Unknown, Servers: [{ Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 475957 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: connect: connection refused }, { Addr: 10.96.78.140:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.78.140:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286447.7538254,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286447.7551231,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680286447.7551498,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680286457.768557,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 11835412 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 18914034 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 11835412 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 18914034 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286457.8006194,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":168765,"members":[{"_id":0,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"6427218012174e12d0b91b23"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680286457.994877,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286457.9971805,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286457.9977534,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"error","ts":1680286468.0284145,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1600957 }, { Addr: test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.34.141:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-2, Average RTT: 1231086 }, { Addr: 10.96.43.178:27017, Type: Unknown }, { Addr: 10.96.133.16:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-0, Average RTT: 526024 }, { Addr: 10.96.102.192:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-1, Average RTT: 786829 }, { Addr: 10.96.197.195:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-nv-0,serviceName=test-cluster,nonVoting=true, Average RTT: 738713 }, { Addr: 10.96.101.117:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-nv-1,serviceName=test-cluster,nonVoting=true, Average RTT: 638522 }, { Addr: 10.96.244.252:27017, Type: RSArbiter, Average RTT: 819350 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1600957 }, { Addr: test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.34.141:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-2, Average RTT: 1231086 }, { Addr: 10.96.43.178:27017, Type: Unknown }, { Addr: 10.96.133.16:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-0, Average RTT: 526024 }, { Addr: 10.96.102.192:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-rs0-1, Average RTT: 786829 }, { Addr: 10.96.197.195:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-nv-0,serviceName=test-cluster,nonVoting=true, Average RTT: 738713 }, { Addr: 10.96.101.117:27017, Type: RSSecondary, Tag sets: podName=test-cluster-rs0-nv-1,serviceName=test-cluster,nonVoting=true, Average RTT: 638522 }, { Addr: 10.96.244.252:27017, Type: RSArbiter, Average RTT: 819350 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286468.0444531,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"rs0","version":559352,"members":[{"_id":0,"host":"test-cluster-rs0-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-rs0-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-rs0-3.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-rs0-3","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"10.96.244.252:27017","arbiterOnly":true,"buildIndexes":true,"hidden":false,"priority":0,"slaveDelay":0,"votes":1},{"_id":3,"host":"test-cluster-rs0-nv-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":0,"tags":{"nonVoting":"true","podName":"test-cluster-rs0-nv-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":0},{"_id":4,"host":"test-cluster-rs0-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-rs0-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":5,"host":"test-cluster-rs0-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-rs0-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":6,"host":"test-cluster-rs0-nv-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":0,"tags":{"nonVoting":"true","podName":"test-cluster-rs0-nv-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":0}],"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"6427219d0a5266805c312a2a"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680286469.1912074,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680286469.191786,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-nv"}
{"level":"info","ts":1680286469.2109497,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286469.2126052,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286500.0218232,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 16907929 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 618396 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-2.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 16907929 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-1, Average RTT: 618396 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286500.0221868,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286500.023557,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286530.0688434,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 313531287 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-1,serviceName=test-cluster, Average RTT: 36504927 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 313531287 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-1,serviceName=test-cluster, Average RTT: 36504927 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286530.072986,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286530.07447,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286560.1226022,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: 10.96.78.140:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 446459811 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.133.75:27017,10.96.212.61:27017,10.96.78.140:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: 10.96.78.140:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 446459811 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286560.1230166,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286560.1244633,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680286560.1244798,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680286570.1315768,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1132272 }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 1010397 }, { Addr: 10.96.212.61:27017, Type: Unknown }, { Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 984852 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1132272 }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 1010397 }, { Addr: 10.96.212.61:27017, Type: Unknown }, { Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 984852 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286570.1903405,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":250116,"members":[{"_id":0,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"6427218012174e12d0b91b23"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680286570.1926029,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286570.1930544,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286570.1935387,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"error","ts":1680286600.5899324,"logger":"controller_psmdb","msg":"failed to reconcile cluster","Request.Namespace":"acto-namespace","Request.Name":"test-cluster","replset":"rs0","error":"delete: write mongo config: replSetReconfig: connection(test-cluster-rs0-0.acto-namespace.svc.cluster.local:27017[-6727]) incomplete read of message header: read tcp 10.244.2.2:42256->10.96.133.16:27017: use of closed network connection","errorVerbose":"connection(test-cluster-rs0-0.acto-namespace.svc.cluster.local:27017[-6727]) incomplete read of message header: read tcp 10.244.2.2:42256->10.96.133.16:27017: use of closed network connection\nreplSetReconfig\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.WriteConfig\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:232\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:282\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581\ndelete: write mongo config\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:284\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286600.5905325,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680286600.5907075,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680286600.6072166,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286600.6087387,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286640.9402425,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 670137 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 462778 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 441565 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSGhost, Average RTT: 670137 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 462778 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 441565 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286640.94119,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286640.9425309,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286671.004046,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 800318 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1257221 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 1137391 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 800318 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1257221 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 1137391 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286671.0045414,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286671.0061386,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286701.0514066,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 508994 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 398127 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 898815 }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSOther, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 508994 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 398127 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 898815 }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286701.051917,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286701.0532777,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286731.097974,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSSecondary, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 1365345 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.78.140:27017, Type: RSSecondary, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 1365345 }, { Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, { Addr: 10.96.133.75:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.133.75:27017: connect: connection refused }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286731.098593,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286731.1000443,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680286731.1000652,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680286741.1080103,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1852982 }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 31676425 }, { Addr: 10.96.212.61:27017, Type: Unknown }, { Addr: 10.96.78.140:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 448934 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 1852982 }, { Addr: 10.96.133.75:27017, Type: RSGhost, Average RTT: 31676425 }, { Addr: 10.96.212.61:27017, Type: Unknown }, { Addr: 10.96.78.140:27017, Type: RSSecondary, Tag sets: serviceName=test-cluster,podName=test-cluster-cfg-0, Average RTT: 448934 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286741.124532,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":168765,"members":[{"_id":0,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"6427218012174e12d0b91b23"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680286741.582409,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286741.5830948,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286741.5841324,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286741.9214914,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-nv"}
{"level":"info","ts":1680286741.921699,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-nv"}
{"level":"info","ts":1680286741.9441898,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286741.945656,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286780.040536,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 394158 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 537567 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: RSOther, Tag sets: podName=test-cluster-cfg-0,serviceName=test-cluster, Average RTT: 394158 }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 537567 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286780.0410962,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286780.0423026,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"error","ts":1680286810.1154964,"logger":"controller.psmdb-controller","msg":"Reconciler error","name":"test-cluster","namespace":"acto-namespace","error":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.78.140:27017: connect: connection refused }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 842226 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }","errorVerbose":"reconcile StatefulSet for cfg: failed to run smartUpdate: failed to check active jobs: getting pbm object: create PBM connection to test-cluster-rs0-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-nv-0.test-cluster-rs0.acto-namespace.svc.cluster.local:27017,test-cluster-rs0-arbiter-1.test-cluster-rs0.acto-namespace.svc.cluster.local:27017: create mongo connection to configsvr with connection string 'mongodb://backup:backup123456@10.96.78.140:27017,10.96.212.61:27017,test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017,test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017/': mongo ping: server selection error: server selection timeout, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: 10.96.212.61:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.212.61:27017: i/o timeout }, { Addr: test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp 10.96.78.140:27017: connect: connection refused }, { Addr: test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 842226 }, { Addr: test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017, Type: Unknown, Last error: connection() error occured during connection handshake: dial tcp: lookup test-cluster-cfg-2.acto-namespace.svc.cluster.local on 10.96.0.10:53: no such host }, ] }\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:409\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286810.1160958,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286810.1177135,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}
{"level":"info","ts":1680286810.117735,"logger":"controller_psmdb","msg":"can't start/continue 'SmartUpdate': waiting for all replicas are ready"}
{"level":"error","ts":1680286820.1240597,"logger":"controller_psmdb","msg":"Cluster crashed, trying to recover","cluster":"test-cluster","error":"ping mongo: server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 461133 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 620356 }, ] }","errorVerbose":"server selection error: context deadline exceeded, current topology: { Type: ReplicaSetNoPrimary, Servers: [{ Addr: test-cluster-cfg-1.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 461133 }, { Addr: test-cluster-cfg-0.test-cluster-cfg.acto-namespace.svc.cluster.local:27017, Type: RSGhost, Average RTT: 620356 }, ] }\nping mongo\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo.Dial\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/mongo/mongo.go:64\ngithub.com/percona/percona-server-mongodb-operator/pkg/psmdb.MongoClient\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/psmdb/client.go:47\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).mongoClientWithRole\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/connections.go:21\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:75\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1581","stacktrace":"github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).reconcileCluster\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/mgo.go:86\ngithub.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb.(*ReconcilePerconaServerMongoDB).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/pkg/controller/perconaservermongodb/psmdb_controller.go:493\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Reconcile\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:114\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).reconcileHandler\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:311\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:266\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/src/github.com/percona/percona-server-mongodb-operator/vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/controller.go:227"}
{"level":"info","ts":1680286820.1444855,"logger":"controller_psmdb","msg":"Writing replicaset config","config":{"_id":"cfg","version":260568,"members":[{"_id":0,"host":"test-cluster-cfg-1.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-1","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":1,"host":"test-cluster-cfg-2.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-2","serviceName":"test-cluster"},"slaveDelay":0,"votes":1},{"_id":2,"host":"test-cluster-cfg-0.acto-namespace.svc.cluster.local:27017","arbiterOnly":false,"buildIndexes":true,"hidden":false,"priority":2,"tags":{"podName":"test-cluster-cfg-0","serviceName":"test-cluster"},"slaveDelay":0,"votes":1}],"configsvr":true,"protocolVersion":1,"settings":{"chainingAllowed":true,"heartbeatIntervalMillis":2000,"heartbeatTimeoutSecs":10,"electionTimeoutMillis":10000,"catchUpTimeoutMillis":-1,"getLastErrorDefaults":{"w":1,"wtimeout":0},"replicaSetId":"6427218012174e12d0b91b23"},"writeConcernMajorityJournalDefault":true}}
{"level":"info","ts":1680286820.783858,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286820.7850807,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286820.7865262,"logger":"controller_psmdb","msg":"waiting for config RS update"}
{"level":"info","ts":1680286821.019137,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-rs0-arbiter"}
{"level":"info","ts":1680286821.019615,"logger":"controller_psmdb","msg":"StatefulSet is not up to date","sts":"test-cluster-cfg"}
{"level":"info","ts":1680286821.035519,"logger":"controller_psmdb","msg":"Point-in-time recovery can be enabled only if one bucket is used in spec.backup.storages"}
{"level":"info","ts":1680286821.0367768,"logger":"controller_psmdb","msg":"StatefulSet is changed, starting smart update","name":"test-cluster-cfg"}

