I0329 00:02:58.537580       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create Role/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0329 00:02:58.541047       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ServiceAccount/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0329 00:02:58.553616       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create RoleBinding/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0329 00:02:58.557615       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create Deployment/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0329 00:02:58.563395       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create Service/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0329 00:02:58.570819       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-pd in  test-cluster successful
I0329 00:02:58.575163       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-pd-peer in  test-cluster successful
I0329 00:02:58.578741       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ConfigMap/test-cluster-pd-3731616 for controller TidbCluster/test-cluster successfully
I0329 00:02:58.583566       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27130", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create StatefulSet test-cluster-pd in  test-cluster successful
I0329 00:02:58.591931       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:02:58.591974       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
I0329 00:02:58.695414       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:02:58.695469       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
I0329 00:02:58.818629       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:02:58.818670       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
I0329 00:02:58.907746       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
I0329 00:02:59.695180       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:02:59.695221       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
E0329 00:02:59.773567       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Error response 503 URL http://test-cluster-pd.acto-namespace:2379/pd/health,body response: no leader
, service acto-namespace/test-cluster-pd has no endpoints
I0329 00:02:59.797912       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0329 00:02:59.797959       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed tidbcluster: [acto-namespace/test-cluster]'s pd status sync failed, can not to be upgraded, requeuing
E0329 00:03:01.392791       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused, service acto-namespace/test-cluster-pd has no endpoints
E0329 00:03:01.407461       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed tidbcluster: [acto-namespace/test-cluster]'s pd status sync failed, can not to be upgraded, requeuing
E0329 00:03:16.780883       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused, service acto-namespace/test-cluster-pd has no endpoints
I0329 00:03:16.806952       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:16.806995       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
E0329 00:03:17.900690       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused, service acto-namespace/test-cluster-pd has no endpoints
I0329 00:03:17.918663       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
E0329 00:03:20.400748       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused, service acto-namespace/test-cluster-pd has no endpoints
I0329 00:03:20.430475       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0329 00:03:20.430527       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0329 00:03:21.516814       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused
E0329 00:03:21.529877       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0329 00:03:21.592473       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused
I0329 00:03:21.621019       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0329 00:03:21.621096       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0329 00:03:21.683793       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused
E0329 00:03:21.692770       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0329 00:03:27.818292       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.196.73:2379: connect: connection refused
E0329 00:03:27.826761       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0329 00:03:46.967947       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:46.968080       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27420", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:46.972850       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27420", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-tikv-peer in  test-cluster successful
I0329 00:03:46.977172       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27420", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ConfigMap/test-cluster-tikv-3831336 for controller TidbCluster/test-cluster successfully
I0329 00:03:46.985587       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27420", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create StatefulSet test-cluster-tikv in  test-cluster successful
I0329 00:03:47.004938       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:47.004985       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0329 00:03:47.086327       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:47.086428       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27420", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:47.155956       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:47.156025       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0329 00:03:47.245210       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:47.245289       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27535", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:47.327846       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:47.327884       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0329 00:03:47.562923       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:47.563020       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27558", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:47.973936       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0329 00:03:48.364151       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:48.364281       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27558", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:48.795065       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:48.795108       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0329 00:03:49.163658       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:49.163801       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27594", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:49.596668       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:49.596713       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0329 00:03:49.963351       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0329 00:03:49.963444       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27611", FieldPath:""}): type: 'Warning' reason: 'PDMemberUnhealthy' acto-namespace/test-cluster-pd-0(15851693454290295133) is unhealthy
I0329 00:03:50.373852       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0329 00:03:57.901011       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:03:57.901063       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0329 00:03:58.025438       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0329 00:04:27.874783       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27638", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-tidb-peer in  test-cluster successful
I0329 00:04:27.886878       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27638", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-tidb in  test-cluster successful
I0329 00:04:27.891212       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27638", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ConfigMap/test-cluster-tidb-6662316 for controller TidbCluster/test-cluster successfully
I0329 00:04:27.897469       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"e1a56d8e-a06a-4072-a4c9-7b3d57a60aaa", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"27638", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create StatefulSet test-cluster-tidb in  test-cluster successful
I0329 00:04:28.506544       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0329 00:04:28.627155       1 equality.go:87] Service spec diff for acto-namespace/test-cluster-tidb:   v1.ServiceSpec{
  	Ports: []v1.ServicePort{
  		{
  			... // 3 identical fields
  			Port:       4000,
  			TargetPort: {IntVal: 4000},
- 			NodePort:   0,
+ 			NodePort:   32016,
  		},
  		{
  			... // 3 identical fields
  			Port:       10080,
  			TargetPort: {IntVal: 10080},
- 			NodePort:   0,
+ 			NodePort:   30376,
  		},
  	},
  	Selector:  {"app.kubernetes.io/component": "tidb", "app.kubernetes.io/instance": "test-cluster", "app.kubernetes.io/managed-by": "tidb-operator", "app.kubernetes.io/name": "tidb-cluster"},
  	ClusterIP: "",
  	... // 12 identical fields
  }
I0329 00:04:28.627204       1 tidb_member_manager.go:442] Sync TiDB service acto-namespace/test-cluster-tidb, spec equal: false, annotations equal: true, label equal: true
I0329 00:04:28.880341       1 service_control.go:88] update Service: [acto-namespace/test-cluster-tidb] successfully, kind: , name: test-cluster
I0329 00:04:28.910198       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully

