I0402 07:46:34.294156       1 version.go:38] Welcome to TiDB Operator.
I0402 07:46:34.294183       1 version.go:39] TiDB Operator Version: version.Info{GitVersion:"v1.3.2", GitCommit:"019c90c96c748ed6e5bdee2c3b7594a6c211f32a", GitTreeState:"clean", BuildDate:"2022-03-17T16:23:53Z", GoVersion:"go1.13.8", Compiler:"gc", Platform:"linux/amd64"}
I0402 07:46:34.294234       1 main.go:75] FLAG: --V="false"
I0402 07:46:34.294244       1 main.go:75] FLAG: --add_dir_header="false"
I0402 07:46:34.294249       1 main.go:75] FLAG: --alsologtostderr="false"
I0402 07:46:34.294254       1 main.go:75] FLAG: --auto-failover="true"
I0402 07:46:34.294259       1 main.go:75] FLAG: --cluster-permission-node="true"
I0402 07:46:34.294264       1 main.go:75] FLAG: --cluster-permission-pv="true"
I0402 07:46:34.294268       1 main.go:75] FLAG: --cluster-permission-sc="true"
I0402 07:46:34.294273       1 main.go:75] FLAG: --cluster-scoped="true"
I0402 07:46:34.294277       1 main.go:75] FLAG: --dm-master-failover-period="5m0s"
I0402 07:46:34.294284       1 main.go:75] FLAG: --dm-worker-failover-period="5m0s"
I0402 07:46:34.294289       1 main.go:75] FLAG: --features="AdvancedStatefulSet=false,AutoScaling=false,StableScheduling=true"
I0402 07:46:34.294310       1 main.go:75] FLAG: --leader-lease-duration="15s"
I0402 07:46:34.294316       1 main.go:75] FLAG: --leader-renew-deadline="10s"
I0402 07:46:34.294320       1 main.go:75] FLAG: --leader-retry-period="2s"
I0402 07:46:34.294325       1 main.go:75] FLAG: --log_backtrace_at=":0"
I0402 07:46:34.294333       1 main.go:75] FLAG: --log_dir=""
I0402 07:46:34.294342       1 main.go:75] FLAG: --log_file=""
I0402 07:46:34.294347       1 main.go:75] FLAG: --log_file_max_size="1800"
I0402 07:46:34.294354       1 main.go:75] FLAG: --logtostderr="true"
I0402 07:46:34.294359       1 main.go:75] FLAG: --pd-failover-period="5m0s"
I0402 07:46:34.294364       1 main.go:75] FLAG: --resync-duration="30s"
I0402 07:46:34.294369       1 main.go:75] FLAG: --selector=""
I0402 07:46:34.294373       1 main.go:75] FLAG: --skip_headers="false"
I0402 07:46:34.294378       1 main.go:75] FLAG: --skip_log_headers="false"
I0402 07:46:34.294383       1 main.go:75] FLAG: --stderrthreshold="2"
I0402 07:46:34.294389       1 main.go:75] FLAG: --test-mode="false"
I0402 07:46:34.294394       1 main.go:75] FLAG: --tidb-backup-manager-image="pingcap/tidb-backup-manager:v1.3.2"
I0402 07:46:34.294403       1 main.go:75] FLAG: --tidb-discovery-image="pingcap/tidb-operator:v1.3.2"
I0402 07:46:34.294411       1 main.go:75] FLAG: --tidb-failover-period="5m0s"
I0402 07:46:34.294419       1 main.go:75] FLAG: --tiflash-failover-period="5m0s"
I0402 07:46:34.294426       1 main.go:75] FLAG: --tikv-failover-period="5m0s"
I0402 07:46:34.294433       1 main.go:75] FLAG: --v="2"
I0402 07:46:34.294442       1 main.go:75] FLAG: --version="false"
I0402 07:46:34.294449       1 main.go:75] FLAG: --vmodule=""
I0402 07:46:34.294457       1 main.go:75] FLAG: --workers="5"
I0402 07:46:34.294518       1 main.go:92] HELM_RELEASE environment variable not set
I0402 07:46:34.320768       1 leaderelection.go:243] attempting to acquire leader lease  acto-namespace/tidb-controller-manager...
I0402 07:46:51.737246       1 leaderelection.go:253] successfully acquired lease acto-namespace/tidb-controller-manager
I0402 07:46:51.740016       1 upgrader.go:109] Upgrader: APIGroup apps.pingcap.com is not registered, skip checking Advanced Statfulset
I0402 07:46:51.740656       1 reflector.go:207] Starting reflector *v1alpha1.Backup (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740673       1 reflector.go:207] Starting reflector *v1alpha1.TidbClusterAutoScaler (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740693       1 reflector.go:207] Starting reflector *v1alpha1.TidbCluster (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740703       1 reflector.go:207] Starting reflector *v1alpha1.TidbNGMonitoring (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740715       1 reflector.go:207] Starting reflector *v1alpha1.TidbInitializer (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740730       1 reflector.go:207] Starting reflector *v1alpha1.TidbMonitor (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740765       1 reflector.go:207] Starting reflector *v1alpha1.Restore (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740848       1 reflector.go:207] Starting reflector *v1alpha1.DMCluster (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.740978       1 reflector.go:207] Starting reflector *v1alpha1.BackupSchedule (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840899       1 reflector.go:207] Starting reflector *v1.Endpoints (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840935       1 reflector.go:207] Starting reflector *v1.Service (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840941       1 reflector.go:207] Starting reflector *v1.StorageClass (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840967       1 reflector.go:207] Starting reflector *v1.Job (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840984       1 reflector.go:207] Starting reflector *v1.Ingress (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.841009       1 reflector.go:207] Starting reflector *v1.PersistentVolumeClaim (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.841019       1 reflector.go:207] Starting reflector *v1.Deployment (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840939       1 reflector.go:207] Starting reflector *v1.Node (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.841065       1 reflector.go:207] Starting reflector *v1.PersistentVolume (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.841115       1 reflector.go:207] Starting reflector *v1.Secret (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840898       1 reflector.go:207] Starting reflector *v1.StatefulSet (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:51.840973       1 reflector.go:207] Starting reflector *v1.Pod (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:52.041285       1 reflector.go:207] Starting reflector *v1.ConfigMap (30s) from k8s.io/client-go@v0.19.16/tools/cache/reflector.go:156
I0402 07:46:52.141355       1 main.go:189] cache of informer factories sync successfully
I0402 07:46:52.141450       1 pod_control.go:113] Starting tidbcluster pod controller
I0402 07:46:52.141496       1 dm_cluster_controller.go:91] Starting dmcluster controller
I0402 07:46:52.141539       1 tidb_initializer_controller.go:69] Starting tidbinitializer controller
I0402 07:46:52.141553       1 backup_schedule_controller.go:70] Starting backup schedule controller
I0402 07:46:52.141584       1 backup_controller.go:78] Starting backup controller
I0402 07:46:52.141596       1 tidb_monitor_controller.go:65] Starting tidbmonitor controller
I0402 07:46:52.141632       1 restore_controller.go:71] Starting restore controller
I0402 07:46:52.141465       1 tidb_ng_monitoring_controller.go:78] Starting tidbngmonitor controller
I0402 07:46:52.141800       1 tidb_cluster_controller.go:98] Starting tidbcluster controller
I0402 07:46:52.149156       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create Role/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0402 07:46:52.153715       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ServiceAccount/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0402 07:46:52.166416       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create RoleBinding/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0402 07:46:52.175227       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create Deployment/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0402 07:46:52.180297       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create Service/test-cluster-discovery for controller TidbCluster/test-cluster successfully
I0402 07:46:52.538368       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-pd in TidbCluster test-cluster successful
I0402 07:46:52.935990       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-pd-peer in TidbCluster test-cluster successful
I0402 07:46:52.940633       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ConfigMap/test-cluster-pd-3731616 for controller TidbCluster/test-cluster successfully
I0402 07:46:52.967727       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"940", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create StatefulSet test-cluster-pd in TidbCluster test-cluster successful
I0402 07:46:52.992390       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:46:52.992431       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for PD cluster running, requeuing
E0402 07:46:53.043924       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: network is unreachable, service acto-namespace/test-cluster-pd has no endpoints
I0402 07:46:53.062958       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0402 07:46:53.063000       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:46:53.122383       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: network is unreachable, service acto-namespace/test-cluster-pd has no endpoints
E0402 07:46:53.130610       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:46:55.063121       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused, service acto-namespace/test-cluster-pd has no endpoints
E0402 07:46:55.072878       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
I0402 07:46:58.603028       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1076", FieldPath:""}): type: 'Normal' reason: 'SuccessfulPatch' patch PV pvc-a156b5cf-5583-4c09-ab6d-141cdeba9f5a in TidbCluster test-cluster successful
I0402 07:46:58.607405       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1076", FieldPath:""}): type: 'Normal' reason: 'SuccessfulPatch' patch PV pvc-f4edfa53-7901-461d-a963-ddb76795f3ba in TidbCluster test-cluster successful
I0402 07:46:58.613153       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1076", FieldPath:""}): type: 'Normal' reason: 'SuccessfulPatch' patch PV pvc-89663e89-1292-4305-8a86-87251246edc6 in TidbCluster test-cluster successful
E0402 07:46:58.668758       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
I0402 07:46:58.690486       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0402 07:46:58.690544       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:46:58.758589       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
E0402 07:46:58.767161       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:46:59.097904       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
I0402 07:46:59.118321       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0402 07:46:59.118368       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:46:59.180391       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
E0402 07:46:59.187852       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:47:00.272810       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
I0402 07:47:00.299995       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
E0402 07:47:00.300032       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:47:00.352520       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
E0402 07:47:00.359836       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:47:03.137068       1 pd_member_manager.go:190] failed to sync TidbCluster: [acto-namespace/test-cluster]'s status, error: Get http://test-cluster-pd.acto-namespace:2379/pd/health: dial tcp 10.96.150.95:2379: connect: connection refused
E0402 07:47:03.145554       1 tidb_cluster_controller.go:126] TidbCluster: acto-namespace/test-cluster, sync failed TidbCluster: acto-namespace/test-cluster .Status.PD.Synced = false, can't failover, requeuing
E0402 07:47:21.861785       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:21.866915       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1207", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-tikv-peer in  test-cluster successful
I0402 07:47:21.870891       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1207", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ConfigMap/test-cluster-tikv-3831336 for controller TidbCluster/test-cluster successfully
I0402 07:47:21.878471       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1207", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create StatefulSet test-cluster-tikv in  test-cluster successful
I0402 07:47:21.889578       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:21.889616       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:21.963072       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:21.967063       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:21.975311       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:22.018785       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:22.018817       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:22.099146       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:22.102321       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:22.111092       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:22.148404       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:22.148475       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:22.450497       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:22.454191       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:22.851621       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:22.898859       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:22.898889       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:23.251521       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:23.256210       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:23.651268       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:23.669253       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:23.669284       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:24.051170       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:24.053758       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:24.451291       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:24.490163       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:24.490203       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:24.851562       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:24.856422       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:25.249871       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:25.290994       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:25.291040       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0402 07:47:25.297439       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1360", FieldPath:""}): type: 'Normal' reason: 'SuccessfulPatch' patch PV pvc-ca1efa0f-62f2-4b67-9083-6ca85d7a8be9 in TidbCluster test-cluster successful
E0402 07:47:25.650046       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:25.653152       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:26.051151       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:26.090633       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:26.090666       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0402 07:47:26.095928       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1376", FieldPath:""}): type: 'Normal' reason: 'SuccessfulPatch' patch PV pvc-b8597175-e308-407d-8610-3047d638c7ca in TidbCluster test-cluster successful
E0402 07:47:26.450621       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:26.453667       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:26.850922       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:26.891868       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:26.891891       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0402 07:47:26.897176       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1397", FieldPath:""}): type: 'Normal' reason: 'SuccessfulPatch' patch PV pvc-3ee4bfad-7232-4a3d-92af-07c56aa14b39 in TidbCluster test-cluster successful
E0402 07:47:27.251491       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:27.255507       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:27.652182       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:27.691666       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:27.691719       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:28.052121       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:28.056602       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:28.450550       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:28.465584       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:28.465620       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:28.851354       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:28.855121       1 tikv_member_manager.go:787] TiKV of Cluster acto-namespace/test-cluster not bootstrapped yet
I0402 07:47:29.251483       1 tikv_member_manager.go:885] TiKV of Cluster acto-namespace/test-cluster is not bootstrapped yet, no need to set store labels
I0402 07:47:29.291050       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:29.291082       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
E0402 07:47:29.651850       1 pd_failover.go:70] PD failover replicas (0) reaches the limit (0), skip failover
I0402 07:47:30.081405       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:30.081465       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0402 07:47:30.873727       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:30.873764       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0402 07:47:31.663089       1 tidb_cluster_controller.go:124] TidbCluster: acto-namespace/test-cluster, still need sync: TidbCluster: [acto-namespace/test-cluster], waiting for TiKV cluster running, requeuing
I0402 07:47:51.894427       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1470", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-tidb-peer in  test-cluster successful
I0402 07:47:51.904681       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1470", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create Service test-cluster-tidb in  test-cluster successful
I0402 07:47:51.908436       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1470", FieldPath:""}): type: 'Normal' reason: 'Successfully Create' create ConfigMap/test-cluster-tidb-6662316 for controller TidbCluster/test-cluster successfully
I0402 07:47:51.916981       1 event.go:282] Event(v1.ObjectReference{Kind:"TidbCluster", Namespace:"acto-namespace", Name:"test-cluster", UID:"fa00a02a-383b-4cc2-ae09-de98a6154bad", APIVersion:"pingcap.com/v1alpha1", ResourceVersion:"1470", FieldPath:""}): type: 'Normal' reason: 'SuccessfulCreate' create StatefulSet test-cluster-tidb in  test-cluster successful
I0402 07:47:51.951651       1 pv_control.go:192] PV: [pvc-ca1efa0f-62f2-4b67-9083-6ca85d7a8be9] updated successfully, : acto-namespace/test-cluster
I0402 07:47:52.496706       1 pv_control.go:192] PV: [pvc-3ee4bfad-7232-4a3d-92af-07c56aa14b39] updated successfully, : acto-namespace/test-cluster
I0402 07:47:53.298583       1 pv_control.go:192] PV: [pvc-f4edfa53-7901-461d-a963-ddb76795f3ba] updated successfully, : acto-namespace/test-cluster
I0402 07:47:54.099379       1 pv_control.go:192] PV: [pvc-89663e89-1292-4305-8a86-87251246edc6] updated successfully, : acto-namespace/test-cluster
I0402 07:47:54.698246       1 pv_control.go:192] PV: [pvc-a156b5cf-5583-4c09-ab6d-141cdeba9f5a] updated successfully, : acto-namespace/test-cluster
I0402 07:47:55.298497       1 pv_control.go:192] PV: [pvc-b8597175-e308-407d-8610-3047d638c7ca] updated successfully, : acto-namespace/test-cluster
I0402 07:47:55.323952       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:55.433803       1 equality.go:87] Service spec diff for acto-namespace/test-cluster-tidb:   v1.ServiceSpec{
  	Ports: []v1.ServicePort{
  		{
  			... // 3 identical fields
  			Port:       4000,
  			TargetPort: {IntVal: 4000},
- 			NodePort:   0,
+ 			NodePort:   30227,
  		},
  		{
  			... // 3 identical fields
  			Port:       10080,
  			TargetPort: {IntVal: 10080},
- 			NodePort:   0,
+ 			NodePort:   30622,
  		},
  	},
  	Selector:  {"app.kubernetes.io/component": "tidb", "app.kubernetes.io/instance": "test-cluster", "app.kubernetes.io/managed-by": "tidb-operator", "app.kubernetes.io/name": "tidb-cluster"},
  	ClusterIP: "",
  	... // 12 identical fields
  }
I0402 07:47:55.433852       1 tidb_member_manager.go:442] Sync TiDB service acto-namespace/test-cluster-tidb, spec equal: false, annotations equal: true, label equal: true
I0402 07:47:55.499028       1 service_control.go:88] update Service: [acto-namespace/test-cluster-tidb] successfully, kind: , name: test-cluster
I0402 07:47:55.512892       1 tidb_failover.go:53] tidb failover is disabled for acto-namespace/test-cluster, skipped
I0402 07:47:56.545401       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:56.657551       1 tidb_failover.go:53] tidb failover is disabled for acto-namespace/test-cluster, skipped
I0402 07:47:56.707840       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:57.063547       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:47:58.265988       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully
I0402 07:48:12.095536       1 tidbcluster_control.go:69] TidbCluster: [acto-namespace/test-cluster] updated successfully

